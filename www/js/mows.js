// mows.js, MIT https://github.com/mcollina/mows
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.mows=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){var r=e("websocket-stream");t.exports=function(t,n){n.protocol="mqttv3.1";n.type=Uint8Array;return r(t,n)}},{"websocket-stream":20}],2:[function(e,t,n){t.exports=e("./lib/mqtt")},{"./lib/mqtt":3}],3:[function(e,t,n){var r=e("./client"),i=e("./connection");t.exports.MqttClient=r;t.exports.MqttConnection=i},{"./client":4,"./connection":5}],4:[function(e,t,n){var r=e("./connection"),i=e("events"),s=e("util"),o=e("crypto");var u={keepalive:60,protocolId:"MQIsdp",protocolVersion:3,reconnectPeriod:1e3,clean:true,encoding:"utf8"};var a=function(){return"mqttjs_"+o.randomBytes(8).toString("hex")};var f=function(){};var l=t.exports=function c(e,t){var n=this;if(!(this instanceof c)){return new c(e,t)}this.options=t||{};for(var r in u){if("undefined"===typeof this.options[r]){this.options[r]=u[r]}else{this.options[r]=t[r]}}this.options.clientId=this.options.clientId||a();this.streamBuilder=e;this._setupStream();this.pingTimer=null;this.connected=false;this.queue=[];this.disconnecting=false;this.reconnectTimer=null;this.nextId=Math.floor(Math.random()*65535);this.inflight={puback:{},pubrec:{},pubcomp:{},suback:{},unsuback:{}};this.incoming={pubrel:{}};this.on("connect",function(){this.connected=true});this.on("close",function(){this.connected=false});this.on("connect",this._setupPingTimer);this.on("connect",function(){var e=n.queue,t=e.length;for(var r=0;r<t;r+=1){n._sendPacket(e[r].type,e[r].packet,e[r].cb)}n.queue=[]});this.on("close",function(){if(n.pingTimer!==null){clearInterval(n.pingTimer);n.pingTimer=null}});this.on("close",function(){n._setupReconnect()});i.EventEmitter.call(this)};s.inherits(l,i.EventEmitter);l.prototype._setupStream=function(){var e=this;this._clearReconnect();this.stream=this.streamBuilder();this.conn=this.stream.pipe(new r);if(this.options.encoding){this.conn.setPacketEncoding(this.options.encoding)}this.stream.on("error",f);this.stream.on("close",this.emit.bind(this,"close"));this.stream.on("connect",function(){e.conn.connect(e.options)});this.stream.on("secureConnect",function(){e.conn.connect(e.options)});this.conn.on("publish",function(t){e._handlePublish(t)});var t=function(t){e._handleAck(t)};var n=["puback","pubrec","pubcomp","suback","unsuback"];n.forEach(function(n){e.conn.on(n,t)});this.conn.on("pubrel",function(t){e._handlePubrel(t)});this.conn.on("connack",function(t){e._handleConnack(t)});this.conn.on("pingresp",function(t){e._handlePingresp(t)});this.conn.on("error",this.emit.bind(this,"error"))};l.prototype.publish=function(e,t,n,r){var i;if("function"===typeof n){r=n;n=null}if(!n)n={qos:0,retain:false};r=r||f;i={topic:e,payload:t,qos:n.qos,retain:n.retain,messageId:this._nextId()};this._sendPacket("publish",i,function(){switch(n.qos){case 0:r();break;case 1:this.inflight.puback[i.messageId]=r;break;case 2:this.inflight.pubrec[i.messageId]=r;break;default:break}});return this};l.prototype.subscribe=function(){var e=Array.prototype.slice.call(arguments),t=[];var n=e.shift(),r=e.pop()||f,i=e.pop();n=typeof n=="string"?[n]:n;if(toString.call(r)=="[object Object]"){i=r;r=f}if(!i){i={qos:0}}if(!(toString.call(n)=="[object Object]"||s.isArray(n))){throw"Invalid topic, or topics list"}if(s.isArray(n)){n.forEach(function(e){t.push({topic:e,qos:i.qos})})}else{for(var o in n){if(n.hasOwnProperty(o)){t.push({topic:o,qos:n[o]})}}}var u={subscriptions:t,qos:1,retain:false,dup:false,messageId:this._nextId()};this._sendPacket("subscribe",u,function(){this.inflight.suback[u.messageId]={callback:r,packet:u}});return this};l.prototype.unsubscribe=function(e,t){t=t||f;var n={messageId:this._nextId()};if("string"===typeof e){n.unsubscriptions=[e]}else if("object"===typeof e&&e.length){n.unsubscriptions=e}this._sendPacket("unsubscribe",n,function(){this.inflight.unsuback[n.messageId]=t});return this};l.prototype.end=function(){this.disconnecting=true;if(!this.connected){this.once("connect",this._cleanUp.bind(this))}else{this._cleanUp()}return this};l.prototype._reconnect=function(){this.emit("reconnect");if(this.conn){this.conn.removeAllListeners();delete this.conn}this._setupStream()};l.prototype._setupReconnect=function(){var e=this;if(!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0){this.emit("offline");e.reconnectTimer=setInterval(function(){e._reconnect()},e.options.reconnectPeriod)}};l.prototype._clearReconnect=function(){if(this.reconnectTimer){clearInterval(this.reconnectTimer);this.reconnectTimer=false}};l.prototype._cleanUp=function(e){this.conn.disconnect();if(e){this.stream.destroy()}else{this.stream.end()}if(this.pingTimer!==null){clearInterval(this.pingTimer);this.pingTimer=null}};l.prototype._sendPacket=function(e,t,n){if(this.connected){this.conn[e](t);if(n)n.call(this)}else{this.queue.push({type:e,packet:t,cb:n})}};l.prototype._setupPingTimer=function(){var e=this;if(!this.pingTimer&&this.options.keepalive){this.pingResp=true;this.pingTimer=setInterval(function(){e._checkPing()},this.options.keepalive*1e3)}};l.prototype._checkPing=function(){if(this.pingResp){this.pingResp=false;this.conn.pingreq()}else{this._cleanUp(true)}};l.prototype._handlePingresp=function(){this.pingResp=true};l.prototype._handleConnack=function(e){var t=e.returnCode;var n=["","Unacceptable protocol version","Identifier rejected","Server unavailable","Bad username or password","Not authorized"];if(t===0){this.emit("connect")}else if(t>0){this.emit("error",new Error("Connection refused: "+n[t]))}};l.prototype._handlePublish=function(e){var t=e.topic,n=e.payload,r=e.qos,i=e.messageId,s=e.retain;switch(r){case 0:this.emit("message",t,n,e);break;case 1:this.conn.puback({messageId:i});this.emit("message",t,n,e);break;case 2:this.conn.pubrec({messageId:i});this.incoming.pubrel[i]=e;break;default:break}};l.prototype._handleAck=function(e){var t=e.messageId,n=e.cmd,r=this.inflight[n][t];if(!r){return}switch(n){case"puback":r();break;case"pubrec":this.conn.pubrel(e);this.inflight.pubcomp[t]=r;break;case"pubcomp":r();break;case"suback":var i=r.packet.subscriptions,r=r.callback,s=e.granted;for(var o=0;o<s.length;o+=1){i[o].qos=s[o]}r(null,i);break;case"unsuback":r();break;default:}delete this.inflight[n][t]};l.prototype._handlePubrel=function(e){var t=e.messageId,n=this.incoming.pubrel[t];if(!n)this.emit("error",new Error("Unknown message id"));this.conn.pubcomp({messageId:t});this.emit("message",n.topic,n.payload,n)};l.prototype._nextId=function(){var e=this.nextId++;if(e===65535){this.nextId=1}return e}},{"./connection":5,crypto:34,events:59,util:82}],5:[function(e,t,n){(function(n,r){var i=e("events"),s=e("util"),o=e("./protocol"),u=e("./generate"),a=e("./parse"),f=e("stream").Stream,l=e("stream").Writable;if(!l){l=e("readable-stream").Writable}var c=t.exports=function h(){if(!(this instanceof h)){return new h}this.generate=u;var e={};e.objectMode=typeof n.WebSocket!=="undefined";l.call(this,e);this._newPacket();this._packetEncoding="utf8";var t=this;this.on("pipe",function(e){t.stream=e})};s.inherits(c,l);Object.keys(o.types).forEach(function(e){var t=o.types[e];c.prototype[t]=function(n){var r=u[t](n);if(r instanceof Error){this.emit("error",r)}else{this.stream.write(r)}}});c.prototype.setPacketEncoding=function(e){this._packetEncoding=e;return this};c.prototype._newPacket=function(){this.packet={};this.tmp={pos:1,mul:1,length:0};this.partialPayload=null};c.prototype._parseHeader=function(){if(!this.packet.cmd){a.header(this.data,this.packet);this.index++}return true};c.prototype._parseLength=function(){var e=true,t=this.data,n;if(this.packet.length===undefined){if(t.length<=this.index){e=false}else{n=t.readUInt8(this.index++);while(this.tmp.pos++<=4){this.tmp.length+=this.tmp.mul*(n&o.LENGTH_MASK);this.tmp.mul*=128;if((n&o.LENGTH_FIN_MASK)===0){break}if(t.length<=this.index){e=false;break}n=t.readUInt8(this.index++)}if(e){this.packet.length=this.tmp.length}}}return e};c.prototype._readPayload=function(){var e=true;if(this.packet.length>0){if(this.partialPayload){this.data=r.concat([this.partialPayload,this.data]);this.partialPayload=null}if(this.packet.length>this.data.length-this.index){if(this.index<this.data.length){this.partialPayload=this.data.slice(this.index)}e=false}}return e};c.prototype._parsePayload=function(){var e=this.data.slice(this.index,this.index+this.packet.length);var t=null;this.index+=this.packet.length;if(a[this.packet.cmd]){t=a[this.packet.cmd](e,this.packet,this._packetEncoding)}return t};c.prototype._write=function(e,t,n){var i=null,s;if(!r.isBuffer(e)){e=new r(e)}this.index=0;this.data=e;var o=this._parseHeader(e)&&this._parseLength(e)&&this._readPayload(e);if(o){s=this._parsePayload(a);this._newPacket();if(s instanceof Error){this.emit("error",s)}else{this.emit(s.cmd,s)}var u=this;if(u.data.length>u.index){u._write(u.data.slice(u.index),t,n)}else{n()}}else{n()}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},e("buffer").Buffer)},{"./generate":6,"./parse":7,"./protocol":9,buffer:27,events:59,"readable-stream":19,stream:78,util:82}],6:[function(e,t,n){(function(n){function f(e){if(e>=0&&e<128){return 1}else if(e>=128&&e<16384){return 2}else if(e>=16384&&e<2097152){return 3}else if(e>=2097152&&e<268435456){return 4}else{return 0}}function l(e,t,n){var r=0,i=t;do{r=n%128|0;n=n/128|0;if(n>0){r=r|128}e.writeUInt8(r,t++)}while(n>0);return t-i}function c(e,t,r){var i=n.byteLength(r);d(e,t,i);h(e,t+2,r);return i+2}function h(e,t,n){e.write(n,t)}function p(e,t,n){n.copy(e,t);return n.length}function d(e,t,n){e.writeUInt8(n>>8,t);e.writeUInt8(n&255,t+1);return 2}var r=e("./protocol");t.exports.connect=function(e){var e=e||{},t=e.protocolId,i=e.protocolVersion,s=e.will,o=e.clean,u=e.keepalive,a=e.clientId,h=e.username,v=e.password;var m=0;if(!t||typeof t!=="string"){return new Error("Invalid protocol id")}else{m+=t.length+2}if(!i||"number"!==typeof i||i>255||i<0){return new Error("Invalid protocol version")}else{m+=1}if(!a||"string"!==typeof a){return new Error("Invalid client id")}else{m+=a.length+2}if("number"!==typeof u||u<0||u>65535){return new Error("Invalid keepalive")}else{m+=2}m+=1;if(s){if("object"!==typeof s){return new Error("Invalid will")}if(!s.topic||"string"!==typeof s.topic){return new Error("Invalid will - invalid topic")}else{m+=s.topic.length+2}if(s.payload){if(s.payload.length){if("string"===typeof s.payload){m+=n.byteLength(s.payload)+2}else{m+=s.payload.length+2}}else{return new Error("Invalid will - invalid payload")}}else{m+=2}}if(h){if(h.length){m+=h.length+2}else{return new Error("Invalid username")}}if(v){if(v.length){m+=v.length+2}else{return new Error("Invalid password")}}var g=new n(1+f(m)+m),y=0;g.writeUInt8(r.codes["connect"]<<r.CMD_SHIFT,y++);y+=l(g,y,m);y+=c(g,y,t);g.writeUInt8(i,y++);var b=0;b|=h?r.USERNAME_MASK:0;b|=v?r.PASSWORD_MASK:0;b|=s&&s.retain?r.WILL_RETAIN_MASK:0;b|=s&&s.qos?s.qos<<r.WILL_QOS_SHIFT:0;b|=s?r.WILL_FLAG_MASK:0;b|=o?r.CLEAN_SESSION_MASK:0;g.writeUInt8(b,y++);y+=d(g,y,u);y+=c(g,y,a);if(s&&typeof s.payload==="string"){y+=c(g,y,s.topic);y+=c(g,y,s.payload)}else if(s){y+=c(g,y,s.topic);if(s.payload){y+=d(g,y,s.payload.length);y+=p(g,y,s.payload)}else{y+=d(g,y,0)}}if(h&&typeof h==="string")y+=c(g,y,h);else if(h){y+=d(g,y,h.length);y+=p(g,y,h)}if(v&&typeof v==="string")y+=c(g,y,v);else if(v){y+=d(g,y,v.length);y+=p(g,y,v)}return g};t.exports.connack=function(e){var e=e||{},t=e.returnCode;if("number"!==typeof t){return new Error("Invalid return code")}var i=new n(4),s=0;i.writeUInt8(r.codes["connack"]<<r.CMD_SHIFT,s++);s+=l(i,s,2);s+=d(i,s,t);return i};var i=new n(0);t.exports.publish=function(e){var e=e||{},t=e.dup?r.DUP_MASK:0,s=e.qos,o=e.retain?r.RETAIN_MASK:0,u=e.topic,a=e.payload||i,v=e.messageId;var m=0;if(!u||"string"!==typeof u){return new Error("Invalid topic")}else{m+=n.byteLength(u)+2}if(!n.isBuffer(a)){m+=n.byteLength(a)}else{m+=a.length}if(s&&"number"!==typeof v){return new Error("Invalid message id")}else if(s){m+=2}var g=new n(1+f(m)+m),y=0;g[y++]=r.codes["publish"]<<r.CMD_SHIFT|t|s<<r.QOS_SHIFT|o;y+=l(g,y,m);y+=c(g,y,u);if(s>0){y+=d(g,y,v)}if(!n.isBuffer(a)){h(g,y,a)}else{p(g,y,a)}return g};var s=function(e,t){var e=e||{},i=e.messageId,s=e.dup&&t==="pubrel"?r.DUP_MASK:0,o=t==="pubrel"?1:0;if("number"!==typeof i){return new Error("Invalid message id")}var u=new n(4),a=0;u[a++]=r.codes[t]<<r.CMD_SHIFT|s|o<<r.QOS_SHIFT;a+=l(u,a,2);a+=d(u,a,i);return u};var o=["puback","pubrec","pubrel","pubcomp"];for(var u=0;u<o.length;u++){t.exports[o[u]]=function(e){return function(t){return s(t,e)}}(o[u])}t.exports.subscribe=function(e){var e=e||{},t=e.dup?r.DUP_MASK:0,i=e.qos||0,s=e.messageId,o=e.subscriptions;var u=0;if("number"!==typeof s){return new Error("Invalid message id")}else{u+=2}if("object"===typeof o&&o.length){for(var a=0;a<o.length;a+=1){var h=o[a].topic,i=o[a].qos;if("string"!==typeof h){return new Error("Invalid subscriptions - invalid topic")}if("number"!==typeof i){return new Error("Invalid subscriptions - invalid qos")}u+=n.byteLength(h)+2+1}}else{return new Error("Invalid subscriptions")}var p=new n(1+f(u)+u),v=0;p.writeUInt8(r.codes["subscribe"]<<r.CMD_SHIFT|t|1<<r.QOS_SHIFT,v++);v+=l(p,v,u);v+=d(p,v,s);for(var a=0;a<o.length;a++){var m=o[a],h=m.topic,i=m.qos;v+=c(p,v,h);p.writeUInt8(i,v++)}return p};t.exports.suback=function(e){var e=e||{},t=e.messageId,i=e.granted;var s=0;if("number"!==typeof t){return new Error("Invalid message id")}else{s+=2}if("object"===typeof i&&i.length){for(var o=0;o<i.length;o+=1){if("number"!==typeof i[o]){return new Error("Invalid qos vector")}s+=1}}else{return new Error("Invalid qos vector")}var u=new n(1+f(s)+s),a=0;u.writeUInt8(r.codes["suback"]<<r.CMD_SHIFT,a++);a+=l(u,a,s);a+=d(u,a,t);for(var o=0;o<i.length;o++){u.writeUInt8(i[o],a++)}return u};t.exports.unsubscribe=function(e){var e=e||{},t=e.messageId,i=e.dup?r.DUP_MASK:0,s=e.unsubscriptions;var o=0;if("number"!==typeof t){return new Error("Invalid message id")}else{o+=2}if("object"===typeof s&&s.length){for(var u=0;u<s.length;u+=1){if("string"!==typeof s[u]){return new Error("Invalid unsubscriptions")}o+=n.byteLength(s[u])+2}}else{return new Error("Invalid unsubscriptions")}var a=new n(1+f(o)+o),h=0;a[h++]=r.codes["unsubscribe"]<<r.CMD_SHIFT|i|1<<r.QOS_SHIFT;h+=l(a,h,o);h+=d(a,h,t);for(var u=0;u<s.length;u++){h+=c(a,h,s[u])}return a};t.exports.unsuback=function(e){return function(t){return s(t,e)}}("unsuback");var a=["pingreq","pingresp","disconnect"];for(var u=0;u<a.length;u++){t.exports[a[u]]=function(e){return function(t){var i=new n(2);i[0]=r.codes[e]<<4;i[1]=0;return i}}(a[u])}}).call(this,e("buffer").Buffer)},{"./protocol":9,buffer:27}],7:[function(e,t,n){var r=e("./protocol");var i=e("./parsing_utils");var s=t.exports;s.header=function(e,t){var n=e.readUInt8(0);t.cmd=r.types[n>>r.CMD_SHIFT];t.retain=(n&r.RETAIN_MASK)!==0;t.qos=n>>r.QOS_SHIFT&r.QOS_MASK;t.dup=(n&r.DUP_MASK)!==0;return t};s.connect=function(e,t,n){s._pos=0;s._len=e.length;var i,o,u,a,f,l,c={};i=s.parse_string(e);if(i===null)return new Error("Parse error - cannot parse protocol id");t.protocolId=i;if(s._pos>s._len)return null;t.protocolVersion=e.readUInt8(s._pos);s._pos+=1;c.username=e.readUInt8(s._pos)&r.USERNAME_MASK;c.password=e.readUInt8(s._pos)&r.PASSWORD_MASK;c.will=e.readUInt8(s._pos)&r.WILL_FLAG_MASK;if(c.will){t.will={};t.will.retain=(e.readUInt8(s._pos)&r.WILL_RETAIN_MASK)!==0;t.will.qos=(e.readUInt8(s._pos)&r.WILL_QOS_MASK)>>r.WILL_QOS_SHIFT}t.clean=(e.readUInt8(s._pos)&r.CLEAN_SESSION_MASK)!==0;s._pos+=1;t.keepalive=this.parse_num(e);if(t.keepalive===null)return null;o=this.parse_string(e);if(o===null)return new Error("Parse error - cannot parse client id");t.clientId=o;if(c.will){u=this.parse_string(e);if(u===null)return new Error("Parse error - cannot parse will topic");t.will.topic=u;a=this.parse_string(e,n);if(a===null)return new Error("Parse error - cannot parse will payload");t.will.payload=a}if(c.username){l=this.parse_string(e,n);if(l===null)return new Error("Parse error - cannot parse username");t.username=l}if(c.password){f=this.parse_string(e,n);if(f===null)return;t.password=f}return t};s.connack=function(e,t){s._len=e.length;s._pos=0;t.returnCode=s.parse_num(e);if(t.returnCode===null)return new Error("Parse error - cannot parse return code");return t};s.publish=function(e,t,n){s._len=e.length;s._pos=0;var r;r=s.parse_string(e);if(r===null)return new Error("Parse error - cannot parse topic");t.topic=r;if(t.qos>0){t.messageId=s.parse_num(e);if(t.messageId===null)return new Error("Parse error - cannot parse message id")}i.parseEncodedPayload(s,e,n,t);return t};s.puback=s.pubrec=s.pubrel=s.pubcomp=s.unsuback=function(e,t){s._len=e.length;s._pos=0;t.messageId=s.parse_num(e,s._len,s._pos);if(t.messageId===null)return new Error("Parse error - cannot parse message id");return t};s.subscribe=function(e,t){s._len=e.length;s._pos=0;t.subscriptions=[];t.messageId=s.parse_num(e);if(t.messageId===null)return new Error("Parse error - cannot parse message id");while(s._pos<s._len){var n,r;n=s.parse_string(e);if(n===null)return new Error("Parse error - cannot parse topic");r=e[s._pos++];t.subscriptions.push({topic:n,qos:r})}return t};s.suback=function(e,t){s._len=e.length;s._pos=0;t.granted=[];t.messageId=s.parse_num(e,s._len,s._pos);if(t.messageId===null)return new Error("Parse error - cannot parse message id");while(s._pos<s._len){t.granted.push(e[s._pos++])}return t};s.unsubscribe=function(e,t){s._len=e.length;s._pos=0;t.unsubscriptions=[];t.messageId=s.parse_num(e,s._len,s._pos);if(t.messageId===null)return new Error("Parse error - cannot parse message id");while(s._pos<s._len){var n;n=s.parse_string(e);if(n===null)return new Error("Parse error - cannot parse topic");t.unsubscriptions.push(n)}return t};s.reserved=function(e,t){return new Error("reserved is not a valid command")};var o=["pingreq","pingresp","disconnect"];s.pingreq=s.pingresp=s.disconnect=function(e,t){return t};s.parse_num=function(e){if(2>s._pos+s._len)return null;var t=e.readUInt16BE(s._pos);s._pos+=2;return t};s.parse_string=function(e,t){var n=s.parse_num(e),r;if(n===null||n+s._pos>s._len)return null;r=i.toString(s,e,n,t);s._pos+=n;return r}},{"./parsing_utils":8,"./protocol":9}],8:[function(e,t,n){t.exports.parseEncodedPayload=function(e,t,n,r){if(n!=="binary"){r.payload=t.toString(n,e._pos,e._len)}else{r.payload=t.slice(e._pos,e._len)}};t.exports.toString=function(e,t,n,r){if(r!=="binary"){return t.toString(r||"utf8",e._pos,e._pos+n)}else{return t.slice(e._pos,e._pos+n)}}},{}],9:[function(e,t,n){t.exports.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"reserved"};t.exports.codes={};for(var r in t.exports.types){var i=t.exports.types[r];t.exports.codes[i]=r}t.exports.CMD_SHIFT=4;t.exports.CMD_MASK=240;t.exports.DUP_MASK=8;t.exports.QOS_MASK=3;t.exports.QOS_SHIFT=1;t.exports.RETAIN_MASK=1;t.exports.LENGTH_MASK=127;t.exports.LENGTH_FIN_MASK=128;t.exports.USERNAME_MASK=128;t.exports.PASSWORD_MASK=64;t.exports.WILL_RETAIN_MASK=32;t.exports.WILL_QOS_MASK=24;t.exports.WILL_QOS_SHIFT=3;t.exports.WILL_FLAG_MASK=4;t.exports.CLEAN_SESSION_MASK=2},{}],10:[function(e,t,n){(function(n){function u(e){if(!(this instanceof u))return new u(e);s.call(this,e);o.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",a)}function a(){if(this.allowHalfOpen||this._writableState.ended)return;n.nextTick(this.end.bind(this))}function f(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}}t.exports=u;var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};var i=e("core-util-is");i.inherits=e("inherits");var s=e("./_stream_readable");var o=e("./_stream_writable");i.inherits(u,s);f(r(o.prototype),function(e){if(!u.prototype[e])u.prototype[e]=o.prototype[e]})}).call(this,e("_process"))},{"./_stream_readable":12,"./_stream_writable":14,_process:62,"core-util-is":15,inherits:16}],11:[function(e,t,n){function s(e){if(!(this instanceof s))return new s(e);r.call(this,e)}t.exports=s;var r=e("./_stream_transform");var i=e("core-util-is");i.inherits=e("inherits");i.inherits(s,r);s.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":13,"core-util-is":15,inherits:16}],12:[function(e,t,n){(function(n){function f(t,n){t=t||{};var r=t.highWaterMark;this.highWaterMark=r||r===0?r:16*1024;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=false;this.ended=false;this.endEmitted=false;this.reading=false;this.calledRead=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.objectMode=!!t.objectMode;this.defaultEncoding=t.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(t.encoding){if(!a)a=e("string_decoder/").StringDecoder;this.decoder=new a(t.encoding);this.encoding=t.encoding}}function l(e){if(!(this instanceof l))return new l(e);this._readableState=new f(e,this);this.readable=true;o.call(this)}function c(e,t,n,r,i){var s=m(t,n);if(s){e.emit("error",s)}else if(n===null||n===undefined){t.reading=false;if(!t.ended)g(e,t)}else if(t.objectMode||n&&n.length>0){if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var o=new Error("stream.unshift() after end event");e.emit("error",o)}else{if(t.decoder&&!i&&!r)n=t.decoder.write(n);t.length+=t.objectMode?1:n.length;if(i){t.buffer.unshift(n)}else{t.reading=false;t.buffer.push(n)}if(t.needReadable)y(e);w(e,t)}}else if(!i){t.reading=false}return h(t)}function h(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}function d(e){if(e>=p){e=p}else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function v(e,t){if(t.length===0&&t.ended)return 0;if(t.objectMode)return e===0?0:1;if(e===null||isNaN(e)){if(t.flowing&&t.buffer.length)return t.buffer[0].length;else return t.length}if(e<=0)return 0;if(e>t.highWaterMark)t.highWaterMark=d(e);if(e>t.length){if(!t.ended){t.needReadable=true;return 0}else return t.length}return e}function m(e,t){var n=null;if(!i.isBuffer(t)&&"string"!==typeof t&&t!==null&&t!==undefined&&!e.objectMode){n=new TypeError("Invalid non-string/buffer chunk")}return n}function g(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();if(n&&n.length){t.buffer.push(n);t.length+=t.objectMode?1:n.length}}t.ended=true;if(t.length>0)y(e);else k(e)}function y(e){var t=e._readableState;t.needReadable=false;if(t.emittedReadable)return;t.emittedReadable=true;if(t.sync)n.nextTick(function(){b(e)});else b(e)}function b(e){e.emit("readable")}function w(e,t){if(!t.readingMore){t.readingMore=true;n.nextTick(function(){E(e,t)})}}function E(e,t){var n=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){e.read(0);if(n===t.length)break;else n=t.length}t.readingMore=false}function S(e){return function(){var t=this;var n=e._readableState;n.awaitDrain--;if(n.awaitDrain===0)x(e)}}function x(e){function r(e,r,i){var s=e.write(n);if(false===s){t.awaitDrain++}}var t=e._readableState;var n;t.awaitDrain=0;while(t.pipesCount&&null!==(n=e.read())){if(t.pipesCount===1)r(t.pipes,0,null);else L(t.pipes,r);e.emit("data",n);if(t.awaitDrain>0)return}if(t.pipesCount===0){t.flowing=false;if(s.listenerCount(e,"data")>0)N(e);return}t.ranOut=true}function T(){if(this._readableState.ranOut){this._readableState.ranOut=false;x(this)}}function N(e,t){var r=e._readableState;if(r.flowing){throw new Error("Cannot switch to old mode now.")}var i=t||false;var s=false;e.readable=true;e.pipe=o.prototype.pipe;e.on=e.addListener=o.prototype.on;e.on("readable",function(){s=true;var t;while(!i&&null!==(t=e.read()))e.emit("data",t);if(t===null){s=false;e._readableState.needReadable=true}});e.pause=function(){i=true;this.emit("pause")};e.resume=function(){i=false;if(s)n.nextTick(function(){e.emit("readable")});else this.read(0);this.emit("resume")};e.emit("readable")}function C(e,t){var n=t.buffer;var r=t.length;var s=!!t.decoder;var o=!!t.objectMode;var u;if(n.length===0)return null;if(r===0)u=null;else if(o)u=n.shift();else if(!e||e>=r){if(s)u=n.join("");else u=i.concat(n,r);n.length=0}else{if(e<n[0].length){var a=n[0];u=a.slice(0,e);n[0]=a.slice(e)}else if(e===n[0].length){u=n.shift()}else{if(s)u="";else u=new i(e);var f=0;for(var l=0,c=n.length;l<c&&f<e;l++){var a=n[0];var h=Math.min(e-f,a.length);if(s)u+=a.slice(0,h);else a.copy(u,f,0,h);if(h<a.length)n[0]=a.slice(h);else n.shift();f+=h}}}return u}function k(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");if(!t.endEmitted&&t.calledRead){t.ended=true;n.nextTick(function(){if(!t.endEmitted&&t.length===0){t.endEmitted=true;e.readable=false;e.emit("end")}})}}function L(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}}function A(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]===t)return n}return-1}t.exports=l;var r=e("isarray");var i=e("buffer").Buffer;l.ReadableState=f;var s=e("events").EventEmitter;if(!s.listenerCount)s.listenerCount=function(e,t){return e.listeners(t).length};var o=e("stream");var u=e("core-util-is");u.inherits=e("inherits");var a;u.inherits(l,o);l.prototype.push=function(e,t){var n=this._readableState;if(typeof e==="string"&&!n.objectMode){t=t||n.defaultEncoding;if(t!==n.encoding){e=new i(e,t);t=""}}return c(this,n,e,t,false)};l.prototype.unshift=function(e){var t=this._readableState;return c(this,t,e,"",true)};l.prototype.setEncoding=function(t){if(!a)a=e("string_decoder/").StringDecoder;this._readableState.decoder=new a(t);this._readableState.encoding=t};var p=8388608;l.prototype.read=function(e){var t=this._readableState;t.calledRead=true;var n=e;var r;if(typeof e!=="number"||e>0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){y(this);return null}e=v(e,t);if(e===0&&t.ended){r=null;if(t.length>0&&t.decoder){r=C(e,t);t.length-=r.length}if(t.length===0)k(this);return r}var i=t.needReadable;if(t.length-e<=t.highWaterMark)i=true;if(t.ended||t.reading)i=false;if(i){t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false}if(i&&!t.reading)e=v(n,t);if(e>0)r=C(e,t);else r=null;if(r===null){t.needReadable=true;e=0}t.length-=e;if(t.length===0&&!t.ended)t.needReadable=true;if(t.ended&&!t.endEmitted&&t.length===0)k(this);return r};l.prototype._read=function(e){this.emit("error",new Error("not implemented"))};l.prototype.pipe=function(e,t){function f(e){if(e!==i)return;h()}function l(){e.end()}function h(){e.removeListener("close",d);e.removeListener("finish",v);e.removeListener("drain",c);e.removeListener("error",p);e.removeListener("unpipe",f);i.removeListener("end",l);i.removeListener("end",h);if(!e._writableState||e._writableState.needDrain)c()}function p(t){m();e.removeListener("error",p);if(s.listenerCount(e,"error")===0)e.emit("error",t)}function d(){e.removeListener("finish",v);m()}function v(){e.removeListener("close",d);m()}function m(){i.unpipe(e)}var i=this;var o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e);break}o.pipesCount+=1;var u=(!t||t.end!==false)&&e!==n.stdout&&e!==n.stderr;var a=u?l:h;if(o.endEmitted)n.nextTick(a);else i.once("end",a);e.on("unpipe",f);var c=S(i);e.on("drain",c);if(!e._events||!e._events.error)e.on("error",p);else if(r(e._events.error))e._events.error.unshift(p);else e._events.error=[p,e._events.error];e.once("close",d);e.once("finish",v);e.emit("pipe",i);if(!o.flowing){this.on("readable",T);o.flowing=true;n.nextTick(function(){x(i)})}return e};l.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;this.removeListener("readable",T);t.flowing=false;if(e)e.emit("unpipe",this);return this}if(!e){var n=t.pipes;var r=t.pipesCount;t.pipes=null;t.pipesCount=0;this.removeListener("readable",T);t.flowing=false;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var i=A(t.pipes,e);if(i===-1)return this;t.pipes.splice(i,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this);return this};l.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t);if(e==="data"&&!this._readableState.flowing)N(this);if(e==="readable"&&this.readable){var r=this._readableState;if(!r.readableListening){r.readableListening=true;r.emittedReadable=false;r.needReadable=true;if(!r.reading){this.read(0)}else if(r.length){y(this,r)}}}return n};l.prototype.addListener=l.prototype.on;l.prototype.resume=function(){N(this);this.read(0);this.emit("resume")};l.prototype.pause=function(){N(this,true);this.emit("pause")};l.prototype.wrap=function(e){var t=this._readableState;var n=false;var r=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();if(e&&e.length)r.push(e)}r.push(null)});e.on("data",function(i){if(t.decoder)i=t.decoder.write(i);if(t.objectMode&&(i===null||i===undefined))return;else if(!t.objectMode&&(!i||!i.length))return;var s=r.push(i);if(!s){n=true;e.pause()}});for(var i in e){if(typeof e[i]==="function"&&typeof this[i]==="undefined"){this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i)}}var s=["error","close","destroy","pause","resume"];L(s,function(t){e.on(t,r.emit.bind(r,t))});r._read=function(t){if(n){n=false;e.resume()}};return r};l._fromList=C}).call(this,e("_process"))},{_process:62,buffer:27,"core-util-is":15,events:59,inherits:16,isarray:17,stream:78,"string_decoder/":18}],13:[function(e,t,n){function s(e,t){this.afterTransform=function(e,n){return o(t,e,n)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function o(e,t,n){var r=e._transformState;r.transforming=false;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null;r.writecb=null;if(n!==null&&n!==undefined)e.push(n);if(i)i(t);var s=e._readableState;s.reading=false;if(s.needReadable||s.length<s.highWaterMark){e._read(s.highWaterMark)}}function u(e){if(!(this instanceof u))return new u(e);r.call(this,e);var t=this._transformState=new s(e,this);var n=this;this._readableState.needReadable=true;this._readableState.sync=false;this.once("finish",function(){if("function"===typeof this._flush)this._flush(function(e){a(n,e)});else a(n)})}function a(e,t){if(t)return e.emit("error",t);var n=e._writableState;var r=e._readableState;var i=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=u;var r=e("./_stream_duplex");var i=e("core-util-is");i.inherits=e("inherits");i.inherits(u,r);u.prototype.push=function(e,t){this._transformState.needTransform=false;return r.prototype.push.call(this,e,t)};u.prototype._transform=function(e,t,n){throw new Error("not implemented")};u.prototype._write=function(e,t,n){var r=this._transformState;r.writecb=n;r.writechunk=e;r.writeencoding=t;if(!r.transforming){var i=this._readableState;if(r.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};u.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}}},{"./_stream_duplex":10,"core-util-is":15,inherits:16}],14:[function(e,t,n){(function(n){function o(e,t,n){this.chunk=e;this.encoding=t;this.callback=n}function u(e,t){e=e||{};var n=e.highWaterMark;this.highWaterMark=n||n===0?n:16*1024;this.objectMode=!!e.objectMode;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var r=e.decodeStrings===false;this.decodeStrings=!r;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){m(t,e)};this.writecb=null;this.writelen=0;this.buffer=[];this.errorEmitted=false}function a(t){var n=e("./_stream_duplex");if(!(this instanceof a)&&!(this instanceof n))return new a(t);this._writableState=new u(t,this);this.writable=true;s.call(this)}function f(e,t,r){var i=new Error("write after end");e.emit("error",i);n.nextTick(function(){r(i)})}function l(e,t,i,s){var o=true;if(!r.isBuffer(i)&&"string"!==typeof i&&i!==null&&i!==undefined&&!t.objectMode){var u=new TypeError("Invalid non-string/buffer chunk");e.emit("error",u);n.nextTick(function(){s(u)});o=false}return o}function c(e,t,n){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=new r(t,n)}return t}function h(e,t,n,i,s){n=c(t,n,i);if(r.isBuffer(n))i="buffer";var u=t.objectMode?1:n.length;t.length+=u;var a=t.length<t.highWaterMark;if(!a)t.needDrain=true;if(t.writing)t.buffer.push(new o(n,i,s));else p(e,t,u,n,i,s);return a}function p(e,t,n,r,i,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;e._write(r,i,t.onwrite);t.sync=false}function d(e,t,r,i,s){if(r)n.nextTick(function(){s(i)});else s(i);e._writableState.errorEmitted=true;e.emit("error",i)}function v(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function m(e,t){var r=e._writableState;var i=r.sync;var s=r.writecb;v(r);if(t)d(e,r,i,t,s);else{var o=w(e,r);if(!o&&!r.bufferProcessing&&r.buffer.length)b(e,r);if(i){n.nextTick(function(){g(e,r,o,s)})}else{g(e,r,o,s)}}}function g(e,t,n,r){if(!n)y(e,t);r();if(n)E(e,t)}function y(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function b(e,t){t.bufferProcessing=true;for(var n=0;n<t.buffer.length;n++){var r=t.buffer[n];var i=r.chunk;var s=r.encoding;var o=r.callback;var u=t.objectMode?1:i.length;p(e,t,u,i,s,o);if(t.writing){n++;break}}t.bufferProcessing=false;if(n<t.buffer.length)t.buffer=t.buffer.slice(n);else t.buffer.length=0}function w(e,t){return t.ending&&t.length===0&&!t.finished&&!t.writing}function E(e,t){var n=w(e,t);if(n){t.finished=true;e.emit("finish")}return n}function S(e,t,r){t.ending=true;E(e,t);if(r){if(t.finished)n.nextTick(r);else e.once("finish",r)}t.ended=true}t.exports=a;var r=e("buffer").Buffer;a.WritableState=u;var i=e("core-util-is");i.inherits=e("inherits");var s=e("stream");i.inherits(a,s);a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};a.prototype.write=function(e,t,n){var i=this._writableState;var s=false;if(typeof t==="function"){n=t;t=null}if(r.isBuffer(e))t="buffer";else if(!t)t=i.defaultEncoding;if(typeof n!=="function")n=function(){};if(i.ended)f(this,i,n);else if(l(this,i,e,n))s=h(this,i,e,t,n);return s};a.prototype._write=function(e,t,n){n(new Error("not implemented"))};a.prototype.end=function(e,t,n){var r=this._writableState;if(typeof e==="function"){n=e;e=null;t=null}else if(typeof t==="function"){n=t;t=null}if(typeof e!=="undefined"&&e!==null)this.write(e,t);if(!r.ending&&!r.finished)S(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":10,_process:62,buffer:27,"core-util-is":15,inherits:16,stream:78}],15:[function(e,t,n){(function(e){function t(e){return Array.isArray(e)}function r(e){return typeof e==="boolean"}function i(e){return e===null}function s(e){return e==null}function o(e){return typeof e==="number"}function u(e){return typeof e==="string"}function a(e){return typeof e==="symbol"}function f(e){return e===void 0}function l(e){return c(e)&&g(e)==="[object RegExp]"}function c(e){return typeof e==="object"&&e!==null}function h(e){return c(e)&&g(e)==="[object Date]"}function p(e){return c(e)&&(g(e)==="[object Error]"||e instanceof Error)}function d(e){return typeof e==="function"}function v(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}function m(t){return e.isBuffer(t)}function g(e){return Object.prototype.toString.call(e)}n.isArray=t;n.isBoolean=r;n.isNull=i;n.isNullOrUndefined=s;n.isNumber=o;n.isString=u;n.isSymbol=a;n.isUndefined=f;n.isRegExp=l;n.isObject=c;n.isDate=h;n.isError=p;n.isFunction=d;n.isPrimitive=v;n.isBuffer=m}).call(this,e("buffer").Buffer)},{buffer:27}],16:[function(e,t,n){if(typeof Object.create==="function"){t.exports=function(t,n){t.super_=n;t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype;t.prototype=new r;t.prototype.constructor=t}}},{}],17:[function(e,t,n){t.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}},{}],18:[function(e,t,n){function s(e){if(e&&!i(e)){throw new Error("Unknown encoding: "+e)}}function u(e){return e.toString(this.encoding)}function a(e){this.charReceived=e.length%2;this.charLength=this.charReceived?2:0}function f(e){this.charReceived=e.length%3;this.charLength=this.charReceived?3:0}var r=e("buffer").Buffer;var i=r.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};var o=n.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");s(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=f;break;default:this.write=u;return}this.charBuffer=new r(6);this.charReceived=0;this.charLength=0};o.prototype.write=function(e){var t="";while(this.charLength){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,0,n);this.charReceived+=n;if(this.charReceived<this.charLength){return""}e=e.slice(n,e.length);t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(r>=55296&&r<=56319){this.charLength+=this.surrogateSize;t="";continue}this.charReceived=this.charLength=0;if(e.length===0){return t}break}this.detectIncompleteChar(e);var i=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-this.charReceived,i);i-=this.charReceived}t+=e.toString(this.encoding,0,i);var i=t.length-1;var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var s=this.surrogateSize;this.charLength+=s;this.charReceived+=s;this.charBuffer.copy(this.charBuffer,s,0,s);e.copy(this.charBuffer,0,0,s);return t.substring(0,i)}return t};o.prototype.detectIncompleteChar=function(e){var t=e.length>=3?3:e.length;for(;t>0;t--){var n=e[e.length-t];if(t==1&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t};o.prototype.end=function(e){var t="";if(e&&e.length)t=this.write(e);if(this.charReceived){var n=this.charReceived;var r=this.charBuffer;var i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{buffer:27}],19:[function(e,t,n){var r=e("stream");n=t.exports=e("./lib/_stream_readable.js");n.Stream=r;n.Readable=n;n.Writable=e("./lib/_stream_writable.js");n.Duplex=e("./lib/_stream_duplex.js");n.Transform=e("./lib/_stream_transform.js");n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":10,"./lib/_stream_passthrough.js":11,"./lib/_stream_readable.js":12,"./lib/_stream_transform.js":13,"./lib/_stream_writable.js":14,stream:78}],20:[function(e,t,n){(function(n){function o(e,t){if(!(this instanceof o))return new o(e,t);this.stream=r(this.write.bind(this),this.end.bind(this));this.stream.websocketStream=this;this.options=t||{};this._buffer=[];if(typeof e==="object"){this.ws=e;this.ws.on("message",this.onMessage.bind(this));this.ws.on("error",this.onError.bind(this));this.ws.on("close",this.onClose.bind(this));this.ws.on("open",this.onOpen.bind(this));if(this.ws.readyState===1)this._open=true}else{var i=n.title==="browser"?this.options.protocol:this.options;this.ws=new s(e,i);this.ws.binaryType=this.options.binaryType||"arraybuffer";this.ws.onmessage=this.onMessage.bind(this);this.ws.onerror=this.onError.bind(this);this.ws.onclose=this.onClose.bind(this);this.ws.onopen=this.onOpen.bind(this)}return this.stream}var r=e("through");var i=e("isbuffer");var s=e("ws");t.exports=o;t.exports.WebsocketStream=o;o.prototype.onMessage=function(e){var t=e;if(typeof t.data!=="undefined")t=t.data;var n=this.options.type;if(n&&t instanceof ArrayBuffer)t=new n(t);this.stream.queue(t)};o.prototype.onError=function(e){this.stream.emit("error",e)};o.prototype.onClose=function(e){if(this._destroy)return;this.stream.emit("end");this.stream.emit("close")};o.prototype.onOpen=function(e){if(this._destroy)return;this._open=true;for(var t=0;t<this._buffer.length;t++){this._write(this._buffer[t])}this._buffer=undefined;this.stream.emit("open");this.stream.emit("connect");if(this._end)this.ws.close()};o.prototype.write=function(e){if(!this._open){this._buffer.push(e)}else{this._write(e)}};o.prototype._write=function(e){if(this.ws.readyState==1)typeof WebSocket!="undefined"&&this.ws instanceof WebSocket?this.ws.send(e):this.ws.send(e,{binary:i(e)});else this.stream.emit("error","Not connected")};o.prototype.end=function(e){if(e!==undefined)this.stream.queue(e);if(this._open)this.ws.close();this._end=true}}).call(this,e("_process"))},{_process:62,isbuffer:21,through:22,ws:23}],21:[function(e,t,n){function i(e){return r.isBuffer(e)||/\[object (.+Array|Array.+)\]/.test(Object.prototype.toString.call(e))}var r=e("buffer").Buffer;t.exports=i},{buffer:27}],22:[function(e,t,n){(function(r){function s(e,t,n){function l(){while(u.length&&!f.paused){var e=u.shift();if(null===e)return f.emit("end");else f.emit("data",e)}}function c(){f.writable=false;t.call(f);if(!f.readable&&f.autoDestroy)f.destroy()}e=e||function(e){this.queue(e)};t=t||function(){this.queue(null)};var s=false,o=false,u=[],a=false;var f=new i;f.readable=f.writable=true;f.paused=false;f.autoDestroy=!(n&&n.autoDestroy===false);f.write=function(t){e.call(this,t);return!f.paused};f.queue=f.push=function(e){if(a)return f;if(e==null)a=true;u.push(e);l();return f};f.on("end",function(){f.readable=false;if(!f.writable&&f.autoDestroy)r.nextTick(function(){f.destroy()})});f.end=function(e){if(s)return;s=true;if(arguments.length)f.write(e);c();return f};f.destroy=function(){if(o)return;o=true;s=true;u.length=0;f.writable=f.readable=false;f.emit("close");return f};f.pause=function(){if(f.paused)return;f.paused=true;return f};f.resume=function(){if(f.paused){f.paused=false;f.emit("resume")}l();if(!f.paused)f.emit("drain");return f};return f}var i=e("stream");n=t.exports=s;s.through=s}).call(this,e("_process"))},{_process:62,stream:78}],23:[function(e,t,n){function s(e,t,n){var r;if(t){r=new i(e,t)}else{r=new i(e)}return r}var r=function(){return this}();var i=r.WebSocket||r.MozWebSocket;t.exports=i?s:null;if(i)s.prototype=i.prototype},{}],24:[function(e,t,n){(function(n){var r=e("url");t.exports=function(t,i,s){var o={};var u=null;var a="";var f=false;if("object"===typeof t){s=t;i=null;t=null}else if("string"===typeof t){s=i;i=t;t=null}if("object"===typeof i){s=i;i=null}if(!i&&!t&&n.title==="browser"){i=document.URL;f=true}o.host=i||"localhost";o.port=t;o.protocol="ws://";try{u=r.parse(i);if(u.host){o.host=u.hostname;o.port=u.port||t;o.pathname=!f&&u.pathname||"/mqtt";o.protocol=u.protocol==="https:"?"wss://":"ws://";o.protocol=u.protocol==="wss:"?"wss://":"ws://"}}catch(l){}if("object"!==typeof s){s={}}var c={type:Uint8Array};if(s.protocol){c.protocol=s.protocol}a=o.protocol+o.host;if(o.port){a+=":"+o.port}if(o.pathname){a+=o.pathname}return{url:a,opts:s,websocketOpts:c}}}).call(this,e("_process"))},{_process:62,url:80}],25:[function(e,t,n){var r=e("./buildWebsocket");var i=e("mqtt");var s=e("./params");t.exports.createClient=function(e,t,n){var o=s(e,t,n);if(o.opts&&o.opts.clean===false&&!o.opts.clientId){throw new Error("Missing clientId for unclean clients")}var u=function(){return r(o.url,o.websocketOpts)};return new i.MqttClient(u,o.opts)};t.exports.createConnection=function(e,t,n){var o,u;var a=s(e,t,n);o=r(a.url,a.websocketOpts);u=o.pipe(new i.MqttConnection);o.on("error",u.emit.bind(u,"error"));o.on("close",u.emit.bind(u,"close"));o.on("connect",function(){u.emit("connected")});return u};t.exports.MqttClient=i.MqttClient;t.exports.MqttConnection=i.MqttConnection},{"./buildWebsocket":1,"./params":24,mqtt:2}],26:[function(e,t,n){},{}],27:[function(e,t,n){function u(e,t,n){if(!(this instanceof u))return new u(e,t,n);var r=typeof e;var i;if(r==="number")i=e>0?e>>>0:0;else if(r==="string"){if(t==="base64")e=A(e);i=u.byteLength(e,t)}else if(r==="object"&&e!==null){if(e.type==="Buffer"&&s(e.data))e=e.data;i=+e.length>0?Math.floor(+e.length):0}else throw new TypeError("must start with number, buffer, array or string");if(this.length>o)throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+o.toString(16)+" bytes");var a;if(u.TYPED_ARRAY_SUPPORT){a=u._augment(new Uint8Array(i))}else{a=this;a.length=i;a._isBuffer=true}var f;if(u.TYPED_ARRAY_SUPPORT&&typeof e.byteLength==="number"){a._set(e)}else if(M(e)){if(u.isBuffer(e)){for(f=0;f<i;f++)a[f]=e.readUInt8(f)}else{for(f=0;f<i;f++)a[f]=(e[f]%256+256)%256}}else if(r==="string"){a.write(e,0,t)}else if(r==="number"&&!u.TYPED_ARRAY_SUPPORT&&!n){for(f=0;f<i;f++){a[f]=0}}return a}function a(e,t,n,r){n=Number(n)||0;var i=e.length-n;if(!r){r=i}else{r=Number(r);if(r>i){r=i}}var s=t.length;if(s%2!==0)throw new Error("Invalid hex string");if(r>s/2){r=s/2}for(var o=0;o<r;o++){var u=parseInt(t.substr(o*2,2),16);if(isNaN(u))throw new Error("Invalid hex string");e[n+o]=u}return o}function f(e,t,n,r){var i=j(D(t),e,n,r);return i}function l(e,t,n,r){var i=j(P(t),e,n,r);return i}function c(e,t,n,r){return l(e,t,n,r)}function h(e,t,n,r){var i=j(B(t),e,n,r);return i}function p(e,t,n,r){var i=j(H(t),e,n,r);return i}function d(e,t,n){if(t===0&&n===e.length){return r.fromByteArray(e)}else{return r.fromByteArray(e.slice(t,n))}}function v(e,t,n){var r="";var i="";n=Math.min(e.length,n);for(var s=t;s<n;s++){if(e[s]<=127){r+=F(i)+String.fromCharCode(e[s]);i=""}else{i+="%"+e[s].toString(16)}}return r+F(i)}function m(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++){r+=String.fromCharCode(e[i])}return r}function g(e,t,n){return m(e,t,n)}function y(e,t,n){var r=e.length;if(!t||t<0)t=0;if(!n||n<0||n>r)n=r;var i="";for(var s=t;s<n;s++){i+=_(e[s])}return i}function b(e,t,n){var r=e.slice(t,n);var i="";for(var s=0;s<r.length;s+=2){i+=String.fromCharCode(r[s]+r[s+1]*256)}return i}function w(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function E(e,t,n,r,i,s){if(!u.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||t<s)throw new TypeError("value is out of bounds");if(n+r>e.length)throw new TypeError("index out of range")}function S(e,t,n,r){if(t<0)t=65535+t+1;for(var i=0,s=Math.min(e.length-n,2);i<s;i++){e[n+i]=(t&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}}function x(e,t,n,r){if(t<0)t=4294967295+t+1;for(var i=0,s=Math.min(e.length-n,4);i<s;i++){e[n+i]=t>>>(r?i:3-i)*8&255}}function T(e,t,n,r,i,s){if(t>i||t<s)throw new TypeError("value is out of bounds");if(n+r>e.length)throw new TypeError("index out of range")}function N(e,t,n,r,s){if(!s)T(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38);i.write(e,t,n,r,23,4);return n+4}function C(e,t,n,r,s){if(!s)T(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308);i.write(e,t,n,r,52,8);return n+8}function A(e){e=O(e).replace(L,"");while(e.length%4!==0){e=e+"="}return e}function O(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function M(e){return s(e)||u.isBuffer(e)||e&&typeof e==="object"&&typeof e.length==="number"}function _(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function D(e){var t=[];for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127){t.push(r)}else{var i=n;if(r>=55296&&r<=57343)n++;var s=encodeURIComponent(e.slice(i,n+1)).substr(1).split("%");for(var o=0;o<s.length;o++){t.push(parseInt(s[o],16))}}}return t}function P(e){var t=[];for(var n=0;n<e.length;n++){t.push(e.charCodeAt(n)&255)}return t}function H(e){var t,n,r;var i=[];for(var s=0;s<e.length;s++){t=e.charCodeAt(s);n=t>>8;r=t%256;i.push(r);i.push(n)}return i}function B(e){return r.toByteArray(e)}function j(e,t,n,r){for(var i=0;i<r;i++){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function F(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}var r=e("base64-js");var i=e("ieee754");var s=e("is-array");n.Buffer=u;n.SlowBuffer=u;n.INSPECT_MAX_BYTES=50;u.poolSize=8192;var o=1073741823;u.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0);var t=new Uint8Array(e);t.foo=function(){return 42};return 42===t.foo()&&typeof t.subarray==="function"&&(new Uint8Array(1)).subarray(1,1).byteLength===0}catch(n){return false}}();u.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");var n=e.length;var r=t.length;for(var i=0,s=Math.min(n,r);i<s&&e[i]===t[i];i++){}if(i!==s){n=e[i];r=t[i]}if(n<r)return-1;if(r<n)return 1;return 0};u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};u.concat=function(e,t){if(!s(e))throw new TypeError("Usage: Buffer.concat(list[, length])");if(e.length===0){return new u(0)}else if(e.length===1){return e[0]}var n;if(t===undefined){t=0;for(n=0;n<e.length;n++){t+=e[n].length}}var r=new u(t);var i=0;for(n=0;n<e.length;n++){var o=e[n];o.copy(r,i);i+=o.length}return r};u.byteLength=function(e,t){var n;e=e+"";switch(t||"utf8"){case"ascii":case"binary":case"raw":n=e.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=e.length*2;break;case"hex":n=e.length>>>1;break;case"utf8":case"utf-8":n=D(e).length;break;case"base64":n=B(e).length;break;default:n=e.length}return n};u.prototype.length=undefined;u.prototype.parent=undefined;u.prototype.toString=function(e,t,n){var r=false;t=t>>>0;n=n===undefined||n===Infinity?this.length:n>>>0;if(!e)e="utf8";if(t<0)t=0;if(n>this.length)n=this.length;if(n<=t)return"";while(true){switch(e){case"hex":return y(this,t,n);case"utf8":case"utf-8":return v(this,t,n);case"ascii":return m(this,t,n);case"binary":return g(this,t,n);case"base64":return d(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();r=true}}};u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return u.compare(this,e)===0};u.prototype.inspect=function(){var e="";var t=n.INSPECT_MAX_BYTES;if(this.length>0){e=this.toString("hex",0,t).match(/.{2}/g).join(" ");if(this.length>t)e+=" ... "}return"<Buffer "+e+">"};u.prototype.compare=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return u.compare(this,e)};u.prototype.get=function(e){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(e)};u.prototype.set=function(e,t){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(e,t)};u.prototype.write=function(e,t,n,r){if(isFinite(t)){if(!isFinite(n)){r=n;n=undefined}}else{var i=r;r=t;t=n;n=i}t=Number(t)||0;var s=this.length-t;if(!n){n=s}else{n=Number(n);if(n>s){n=s}}r=String(r||"utf8").toLowerCase();var o;switch(r){case"hex":o=a(this,e,t,n);break;case"utf8":case"utf-8":o=f(this,e,t,n);break;case"ascii":o=l(this,e,t,n);break;case"binary":o=c(this,e,t,n);break;case"base64":o=h(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=p(this,e,t,n);break;default:throw new TypeError("Unknown encoding: "+r)}return o};u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};u.prototype.slice=function(e,t){var n=this.length;e=~~e;t=t===undefined?n:~~t;if(e<0){e+=n;if(e<0)e=0}else if(e>n){e=n}if(t<0){t+=n;if(t<0)t=0}else if(t>n){t=n}if(t<e)t=e;if(u.TYPED_ARRAY_SUPPORT){return u._augment(this.subarray(e,t))}else{var r=t-e;var i=new u(r,undefined,true);for(var s=0;s<r;s++){i[s]=this[s+e]}return i}};u.prototype.readUInt8=function(e,t){if(!t)w(e,1,this.length);return this[e]};u.prototype.readUInt16LE=function(e,t){if(!t)w(e,2,this.length);return this[e]|this[e+1]<<8};u.prototype.readUInt16BE=function(e,t){if(!t)w(e,2,this.length);return this[e]<<8|this[e+1]};u.prototype.readUInt32LE=function(e,t){if(!t)w(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};u.prototype.readUInt32BE=function(e,t){if(!t)w(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};u.prototype.readInt8=function(e,t){if(!t)w(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};u.prototype.readInt16LE=function(e,t){if(!t)w(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};u.prototype.readInt16BE=function(e,t){if(!t)w(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};u.prototype.readInt32LE=function(e,t){if(!t)w(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};u.prototype.readInt32BE=function(e,t){if(!t)w(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};u.prototype.readFloatLE=function(e,t){if(!t)w(e,4,this.length);return i.read(this,e,true,23,4)};u.prototype.readFloatBE=function(e,t){if(!t)w(e,4,this.length);return i.read(this,e,false,23,4)};u.prototype.readDoubleLE=function(e,t){if(!t)w(e,8,this.length);return i.read(this,e,true,52,8)};u.prototype.readDoubleBE=function(e,t){if(!t)w(e,8,this.length);return i.read(this,e,false,52,8)};u.prototype.writeUInt8=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,1,255,0);if(!u.TYPED_ARRAY_SUPPORT)e=Math.floor(e);this[t]=e;return t+1};u.prototype.writeUInt16LE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else S(this,e,t,true);return t+2};u.prototype.writeUInt16BE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else S(this,e,t,false);return t+2};u.prototype.writeUInt32LE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[t+3]=e>>>24;this[t+2]=e>>>16;this[t+1]=e>>>8;this[t]=e}else x(this,e,t,true);return t+4};u.prototype.writeUInt32BE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else x(this,e,t,false);return t+4};u.prototype.writeInt8=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,1,127,-128);if(!u.TYPED_ARRAY_SUPPORT)e=Math.floor(e);if(e<0)e=255+e+1;this[t]=e;return t+1};u.prototype.writeInt16LE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else S(this,e,t,true);return t+2};u.prototype.writeInt16BE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else S(this,e,t,false);return t+2};u.prototype.writeInt32LE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,4,2147483647,-2147483648);if(u.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8;this[t+2]=e>>>16;this[t+3]=e>>>24}else x(this,e,t,true);return t+4};u.prototype.writeInt32BE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else x(this,e,t,false);return t+4};u.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,true,n)};u.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,false,n)};u.prototype.writeDoubleLE=function(e,t,n){return C(this,e,t,true,n)};u.prototype.writeDoubleBE=function(e,t,n){return C(this,e,t,false,n)};u.prototype.copy=function(e,t,n,r){var i=this;if(!n)n=0;if(!r&&r!==0)r=this.length;if(!t)t=0;if(r===n)return;if(e.length===0||i.length===0)return;if(r<n)throw new TypeError("sourceEnd < sourceStart");if(t<0||t>=e.length)throw new TypeError("targetStart out of bounds");if(n<0||n>=i.length)throw new TypeError("sourceStart out of bounds");if(r<0||r>i.length)throw new TypeError("sourceEnd out of bounds");if(r>this.length)r=this.length;if(e.length-t<r-n)r=e.length-t+n;var s=r-n;if(s<1e3||!u.TYPED_ARRAY_SUPPORT){for(var o=0;o<s;o++){e[o+t]=this[o+n]}}else{e._set(this.subarray(n,n+s),t)}};u.prototype.fill=function(e,t,n){if(!e)e=0;if(!t)t=0;if(!n)n=this.length;if(n<t)throw new TypeError("end < start");if(n===t)return;if(this.length===0)return;if(t<0||t>=this.length)throw new TypeError("start out of bounds");if(n<0||n>this.length)throw new TypeError("end out of bounds");var r;if(typeof e==="number"){for(r=t;r<n;r++){this[r]=e}}else{var i=D(e.toString());var s=i.length;for(r=t;r<n;r++){this[r]=i[r%s]}}return this};u.prototype.toArrayBuffer=function(){if(typeof Uint8Array!=="undefined"){if(u.TYPED_ARRAY_SUPPORT){return(new u(this)).buffer}else{var e=new Uint8Array(this.length);for(var t=0,n=e.length;t<n;t+=1){e[t]=this[t]}return e.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var k=u.prototype;u._augment=function(e){e.constructor=u;e._isBuffer=true;e._get=e.get;e._set=e.set;e.get=k.get;e.set=k.set;e.write=k.write;e.toString=k.toString;e.toLocaleString=k.toString;e.toJSON=k.toJSON;e.equals=k.equals;e.compare=k.compare;e.copy=k.copy;e.slice=k.slice;e.readUInt8=k.readUInt8;e.readUInt16LE=k.readUInt16LE;e.readUInt16BE=k.readUInt16BE;e.readUInt32LE=k.readUInt32LE;e.readUInt32BE=k.readUInt32BE;e.readInt8=k.readInt8;e.readInt16LE=k.readInt16LE;e.readInt16BE=k.readInt16BE;e.readInt32LE=k.readInt32LE;e.readInt32BE=k.readInt32BE;e.readFloatLE=k.readFloatLE;e.readFloatBE=k.readFloatBE;e.readDoubleLE=k.readDoubleLE;e.readDoubleBE=k.readDoubleBE;e.writeUInt8=k.writeUInt8;e.writeUInt16LE=k.writeUInt16LE;e.writeUInt16BE=k.writeUInt16BE;e.writeUInt32LE=k.writeUInt32LE;e.writeUInt32BE=k.writeUInt32BE;e.writeInt8=k.writeInt8;e.writeInt16LE=k.writeInt16LE;e.writeInt16BE=k.writeInt16BE;e.writeInt32LE=k.writeInt32LE;e.writeInt32BE=k.writeInt32BE;e.writeFloatLE=k.writeFloatLE;e.writeFloatBE=k.writeFloatBE;e.writeDoubleLE=k.writeDoubleLE;e.writeDoubleBE=k.writeDoubleBE;e.fill=k.fill;e.inspect=k.inspect;e.toArrayBuffer=k.toArrayBuffer;return e};var L=/[^+\/0-9A-z]/g},{"base64-js":28,ieee754:29,"is-array":30}],28:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(e){"use strict";function a(e){var t=e.charCodeAt(0);if(t===n)return 62;if(t===i)return 63;if(t<s)return-1;if(t<s+10)return t-s+26+26;if(t<u+26)return t-u;if(t<o+26)return t-o+26}function f(e){function c(e){u[l++]=e}var n,r,i,s,o,u;if(e.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var f=e.length;o="="===e.charAt(f-2)?2:"="===e.charAt(f-1)?1:0;u=new t(e.length*3/4-o);i=o>0?e.length-4:e.length;var l=0;for(n=0,r=0;n<i;n+=4,r+=3){s=a(e.charAt(n))<<18|a(e.charAt(n+1))<<12|a(e.charAt(n+2))<<6|a(e.charAt(n+3));c((s&16711680)>>16);c((s&65280)>>8);c(s&255)}if(o===2){s=a(e.charAt(n))<<2|a(e.charAt(n+1))>>4;c(s&255)}else if(o===1){s=a(e.charAt(n))<<10|a(e.charAt(n+1))<<4|a(e.charAt(n+2))>>2;c(s>>8&255);c(s&255)}return u}function l(e){function u(e){return r.charAt(e)}function a(e){return u(e>>18&63)+u(e>>12&63)+u(e>>6&63)+u(e&63)}var t,n=e.length%3,i="",s,o;for(t=0,o=e.length-n;t<o;t+=3){s=(e[t]<<16)+(e[t+1]<<8)+e[t+2];i+=a(s)}switch(n){case 1:s=e[e.length-1];i+=u(s>>2);i+=u(s<<4&63);i+="==";break;case 2:s=(e[e.length-2]<<8)+e[e.length-1];i+=u(s>>10);i+=u(s>>4&63);i+=u(s<<2&63);i+="=";break}return i}var t=typeof Uint8Array!=="undefined"?Uint8Array:Array;var n="+".charCodeAt(0);var i="/".charCodeAt(0);var s="0".charCodeAt(0);var o="a".charCodeAt(0);var u="A".charCodeAt(0);e.toByteArray=f;e.fromByteArray=l})(typeof n==="undefined"?this.base64js={}:n)},{}],29:[function(e,t,n){n.read=function(e,t,n,r,i){var s,o,u=i*8-r-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?i-1:0,h=n?-1:1,p=e[t+c];c+=h;s=p&(1<<-l)-1;p>>=-l;l+=u;for(;l>0;s=s*256+e[t+c],c+=h,l-=8);o=s&(1<<-l)-1;s>>=-l;l+=r;for(;l>0;o=o*256+e[t+c],c+=h,l-=8);if(s===0){s=1-f}else if(s===a){return o?NaN:(p?-1:1)*Infinity}else{o=o+Math.pow(2,r);s=s-f}return(p?-1:1)*o*Math.pow(2,s-r)};n.write=function(e,t,n,r,i,s){var o,u,a,f=s*8-i-1,l=(1<<f)-1,c=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,d=r?1:-1,v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){u=isNaN(t)?1:0;o=l}else{o=Math.floor(Math.log(t)/Math.LN2);if(t*(a=Math.pow(2,-o))<1){o--;a*=2}if(o+c>=1){t+=h/a}else{t+=h*Math.pow(2,1-c)}if(t*a>=2){o++;a/=2}if(o+c>=l){u=0;o=l}else if(o+c>=1){u=(t*a-1)*Math.pow(2,i);o=o+c}else{u=t*Math.pow(2,c-1)*Math.pow(2,i);o=0}}for(;i>=8;e[n+p]=u&255,p+=d,u/=256,i-=8);o=o<<i|u;f+=i;for(;f>0;e[n+p]=o&255,p+=d,o/=256,f-=8);e[n+p-d]|=v*128}},{}],30:[function(e,t,n){var r=Array.isArray;var i=Object.prototype.toString;t.exports=r||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],31:[function(e,t,n){(function(n){function o(e){return function(){var t=[];var r={update:function(e,r){if(!n.isBuffer(e))e=new n(e,r);t.push(e);return this},digest:function(r){var i=n.concat(t);var s=e(i);t=null;return r?s.toString(r):s}};return r}}var r=e("sha.js");var i=o(e("./md5"));var s=o(e("ripemd160"));t.exports=function(e){if("md5"===e)return new i;if("rmd160"===e)return new s;return r(e)}}).call(this,e("buffer").Buffer)},{"./md5":35,buffer:27,ripemd160:51,"sha.js":53}],32:[function(e,t,n){(function(n){function s(e,t){if(!(this instanceof s))return new s(e,t);this._opad=a;this._alg=e;var o=e==="sha512"?128:64;t=this._key=!n.isBuffer(t)?new n(t):t;if(t.length>o){t=r(e).update(t).digest()}else if(t.length<o){t=n.concat([t,i],o)}var u=this._ipad=new n(o);var a=this._opad=new n(o);for(var f=0;f<o;f++){u[f]=t[f]^54;a[f]=t[f]^92}this._hash=r(e).update(u)}var r=e("./create-hash");var i=new n(128);i.fill(0);t.exports=s;s.prototype.update=function(e,t){this._hash.update(e,t);return this};s.prototype.digest=function(e){var t=this._hash.digest();return r(this._alg).update(this._opad).update(t).digest(e)}}).call(this,e("buffer").Buffer)},{"./create-hash":31,buffer:27}],33:[function(e,t,n){(function(e){function s(t,i){if(t.length%n!==0){var s=t.length+(n-t.length%n);t=e.concat([t,r],s)}var o=[];var u=i?t.readInt32BE:t.readInt32LE;for(var a=0;a<t.length;a+=n){o.push(u.call(t,a))}return o}function o(t,n,r){var i=new e(n);var s=r?i.writeInt32BE:i.writeInt32LE;for(var o=0;o<t.length;o++){s.call(i,t[o],o*4,true)}return i}function u(t,n,r,u){if(!e.isBuffer(t))t=new e(t);var a=n(s(t,u),t.length*i);return o(a,r,u)}var n=4;var r=new e(n);r.fill(0);var i=8;t.exports={hash:u}}).call(this,e("buffer").Buffer)},{buffer:27}],34:[function(e,t,n){(function(r){function s(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function o(e,t){for(var n in e)t(e[n],n)}var i=e("./rng");n.createHash=e("./create-hash");n.createHmac=e("./create-hmac");n.randomBytes=function(e,t){if(t&&t.call){try{t.call(this,undefined,new r(i(e)))}catch(n){t(n)}}else{return new r(i(e))}};n.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var u=e("./pbkdf2")(n);n.pbkdf2=u.pbkdf2;n.pbkdf2Sync=u.pbkdf2Sync;e("browserify-aes/inject")(n,t.exports);o(["createCredentials","createSign","createVerify","createDiffieHellman"],function(e){n[e]=function(){s("sorry,",e,"is not implemented yet")}})}).call(this,e("buffer").Buffer)},{"./create-hash":31,"./create-hmac":32,"./pbkdf2":57,"./rng":58,"browserify-aes/inject":41,buffer:27}],35:[function(e,t,n){function i(e,t){e[t>>5]|=128<<t%32;e[(t+64>>>9<<4)+14]=t;var n=1732584193;var r=-271733879;var i=-1732584194;var s=271733878;for(var c=0;c<e.length;c+=16){var h=n;var p=r;var d=i;var v=s;n=o(n,r,i,s,e[c+0],7,-680876936);s=o(s,n,r,i,e[c+1],12,-389564586);i=o(i,s,n,r,e[c+2],17,606105819);r=o(r,i,s,n,e[c+3],22,-1044525330);n=o(n,r,i,s,e[c+4],7,-176418897);s=o(s,n,r,i,e[c+5],12,1200080426);i=o(i,s,n,r,e[c+6],17,-1473231341);r=o(r,i,s,n,e[c+7],22,-45705983);n=o(n,r,i,s,e[c+8],7,1770035416);s=o(s,n,r,i,e[c+9],12,-1958414417);i=o(i,s,n,r,e[c+10],17,-42063);r=o(r,i,s,n,e[c+11],22,-1990404162);n=o(n,r,i,s,e[c+12],7,1804603682);s=o(s,n,r,i,e[c+13],12,-40341101);i=o(i,s,n,r,e[c+14],17,-1502002290);r=o(r,i,s,n,e[c+15],22,1236535329);n=u(n,r,i,s,e[c+1],5,-165796510);s=u(s,n,r,i,e[c+6],9,-1069501632);i=u(i,s,n,r,e[c+11],14,643717713);r=u(r,i,s,n,e[c+0],20,-373897302);n=u(n,r,i,s,e[c+5],5,-701558691);s=u(s,n,r,i,e[c+10],9,38016083);i=u(i,s,n,r,e[c+15],14,-660478335);r=u(r,i,s,n,e[c+4],20,-405537848);n=u(n,r,i,s,e[c+9],5,568446438);s=u(s,n,r,i,e[c+14],9,-1019803690);i=u(i,s,n,r,e[c+3],14,-187363961);r=u(r,i,s,n,e[c+8],20,1163531501);n=u(n,r,i,s,e[c+13],5,-1444681467);s=u(s,n,r,i,e[c+2],9,-51403784);i=u(i,s,n,r,e[c+7],14,1735328473);r=u(r,i,s,n,e[c+12],20,-1926607734);n=a(n,r,i,s,e[c+5],4,-378558);s=a(s,n,r,i,e[c+8],11,-2022574463);i=a(i,s,n,r,e[c+11],16,1839030562);r=a(r,i,s,n,e[c+14],23,-35309556);n=a(n,r,i,s,e[c+1],4,-1530992060);s=a(s,n,r,i,e[c+4],11,1272893353);i=a(i,s,n,r,e[c+7],16,-155497632);r=a(r,i,s,n,e[c+10],23,-1094730640);n=a(n,r,i,s,e[c+13],4,681279174);s=a(s,n,r,i,e[c+0],11,-358537222);i=a(i,s,n,r,e[c+3],16,-722521979);r=a(r,i,s,n,e[c+6],23,76029189);n=a(n,r,i,s,e[c+9],4,-640364487);s=a(s,n,r,i,e[c+12],11,-421815835);i=a(i,s,n,r,e[c+15],16,530742520);r=a(r,i,s,n,e[c+2],23,-995338651);n=f(n,r,i,s,e[c+0],6,-198630844);s=f(s,n,r,i,e[c+7],10,1126891415);i=f(i,s,n,r,e[c+14],15,-1416354905);r=f(r,i,s,n,e[c+5],21,-57434055);n=f(n,r,i,s,e[c+12],6,1700485571);s=f(s,n,r,i,e[c+3],10,-1894986606);i=f(i,s,n,r,e[c+10],15,-1051523);r=f(r,i,s,n,e[c+1],21,-2054922799);n=f(n,r,i,s,e[c+8],6,1873313359);s=f(s,n,r,i,e[c+15],10,-30611744);i=f(i,s,n,r,e[c+6],15,-1560198380);r=f(r,i,s,n,e[c+13],21,1309151649);n=f(n,r,i,s,e[c+4],6,-145523070);s=f(s,n,r,i,e[c+11],10,-1120210379);i=f(i,s,n,r,e[c+2],15,718787259);r=f(r,i,s,n,e[c+9],21,-343485551);n=l(n,h);r=l(r,p);i=l(i,d);s=l(s,v)}return Array(n,r,i,s)}function s(e,t,n,r,i,s){return l(c(l(l(t,e),l(r,s)),i),n)}function o(e,t,n,r,i,o,u){return s(t&n|~t&r,e,t,i,o,u)}function u(e,t,n,r,i,o,u){return s(t&r|n&~r,e,t,i,o,u)}function a(e,t,n,r,i,o,u){return s(t^n^r,e,t,i,o,u)}function f(e,t,n,r,i,o,u){return s(n^(t|~r),e,t,i,o,u)}function l(e,t){var n=(e&65535)+(t&65535);var r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function c(e,t){return e<<t|e>>>32-t}var r=e("./helpers");t.exports=function(t){return r.hash(t,i,16)}},{"./helpers":33}],36:[function(e,t,n){(function(e){t.exports=function(t,n,r,i){r=r/8;i=i||0;var s=0;var o=0;var u=new e(r);var a=new e(i);var f=0;var l,c;var h;while(true){l=t.createHash("md5");if(f++>0){l.update(c)}l.update(n);c=l.digest();h=0;if(r>0){while(true){if(r===0){break}if(h===c.length){break}u[s++]=c[h];r--;h++}}if(i>0&&h!==c.length){while(true){if(i===0){break}if(h===c.length){break}a[o++]=c[h];i--;h++}}if(r===0&&i===0){break}}for(h=0;h<c.length;h++){c[h]=0}return{key:u,iv:a}}}).call(this,e("buffer").Buffer)},{buffer:27}],37:[function(e,t,n){(function(e){function r(e){var n,r;n=e>t||e<0?(r=Math.abs(e)%t,e<0?t-r:r):e;return n}function i(e){var t,n,r;for(t=n=0,r=e.length;0<=r?n<r:n>r;t=0<=r?++n:--n){e[t]=0}return false}function s(){var e;this.SBOX=[];this.INV_SBOX=[];this.SUB_MIX=function(){var t,n;n=[];for(e=t=0;t<4;e=++t){n.push([])}return n}();this.INV_SUB_MIX=function(){var t,n;n=[];for(e=t=0;t<4;e=++t){n.push([])}return n}();this.init();this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function u(e){var t=e.length/4;var n=new Array(t);var r=-1;while(++r<t){n[r]=e.readUInt32BE(r*4)}return n}function a(e){this._key=u(e);this._doReset()}var t=Math.pow(2,32);s.prototype.init=function(){var e,t,n,r,i,s,o,u,a,f;e=function(){var e,n;n=[];for(t=e=0;e<256;t=++e){if(t<128){n.push(t<<1)}else{n.push(t<<1^283)}}return n}();i=0;a=0;for(t=f=0;f<256;t=++f){n=a^a<<1^a<<2^a<<3^a<<4;n=n>>>8^n&255^99;this.SBOX[i]=n;this.INV_SBOX[n]=i;s=e[i];o=e[s];u=e[o];r=e[n]*257^n*16843008;this.SUB_MIX[0][i]=r<<24|r>>>8;this.SUB_MIX[1][i]=r<<16|r>>>16;this.SUB_MIX[2][i]=r<<8|r>>>24;this.SUB_MIX[3][i]=r;r=u*16843009^o*65537^s*257^i*16843008;this.INV_SUB_MIX[0][n]=r<<24|r>>>8;this.INV_SUB_MIX[1][n]=r<<16|r>>>16;this.INV_SUB_MIX[2][n]=r<<8|r>>>24;this.INV_SUB_MIX[3][n]=r;if(i===0){i=a=1}else{i=s^e[e[e[u^s]]];a^=e[e[a]]}}return true};var o=new s;a.blockSize=4*4;a.prototype.blockSize=a.blockSize;a.keySize=256/8;a.prototype.keySize=a.keySize;a.ivSize=a.blockSize;a.prototype.ivSize=a.ivSize;a.prototype._doReset=function(){var e,t,n,r,i,s,u,a;n=this._key;t=n.length;this._nRounds=t+6;i=(this._nRounds+1)*4;this._keySchedule=[];for(r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u){this._keySchedule[r]=r<t?n[r]:(s=this._keySchedule[r-1],r%t===0?(s=s<<8|s>>>24,s=o.SBOX[s>>>24]<<24|o.SBOX[s>>>16&255]<<16|o.SBOX[s>>>8&255]<<8|o.SBOX[s&255],s^=o.RCON[r/t|0]<<24):t>6&&r%t===4?s=o.SBOX[s>>>24]<<24|o.SBOX[s>>>16&255]<<16|o.SBOX[s>>>8&255]<<8|o.SBOX[s&255]:void 0,this._keySchedule[r-t]^s)}this._invKeySchedule=[];for(e=a=0;0<=i?a<i:a>i;e=0<=i?++a:--a){r=i-e;s=this._keySchedule[r-(e%4?0:4)];this._invKeySchedule[e]=e<4||r<=4?s:o.INV_SUB_MIX[0][o.SBOX[s>>>24]]^o.INV_SUB_MIX[1][o.SBOX[s>>>16&255]]^o.INV_SUB_MIX[2][o.SBOX[s>>>8&255]]^o.INV_SUB_MIX[3][o.SBOX[s&255]]}return true};a.prototype.encryptBlock=function(t){t=u(new e(t));var n=this._doCryptBlock(t,this._keySchedule,o.SUB_MIX,o.SBOX);var r=new e(16);r.writeUInt32BE(n[0],0);r.writeUInt32BE(n[1],4);r.writeUInt32BE(n[2],8);r.writeUInt32BE(n[3],12);return r};a.prototype.decryptBlock=function(t){t=u(new e(t));var n=[t[3],t[1]];t[1]=n[0];t[3]=n[1];var r=this._doCryptBlock(t,this._invKeySchedule,o.INV_SUB_MIX,o.INV_SBOX);var i=new e(16);i.writeUInt32BE(r[0],0);i.writeUInt32BE(r[3],4);i.writeUInt32BE(r[2],8);i.writeUInt32BE(r[1],12);return i};a.prototype.scrub=function(){i(this._keySchedule);i(this._invKeySchedule);i(this._key)};a.prototype._doCryptBlock=function(e,t,n,i){var s,o,u,a,f,l,c,h,p,d,v,m;u=e[0]^t[0];a=e[1]^t[1];f=e[2]^t[2];l=e[3]^t[3];s=4;for(o=v=1,m=this._nRounds;1<=m?v<m:v>m;o=1<=m?++v:--v){c=n[0][u>>>24]^n[1][a>>>16&255]^n[2][f>>>8&255]^n[3][l&255]^t[s++];h=n[0][a>>>24]^n[1][f>>>16&255]^n[2][l>>>8&255]^n[3][u&255]^t[s++];p=n[0][f>>>24]^n[1][l>>>16&255]^n[2][u>>>8&255]^n[3][a&255]^t[s++];d=n[0][l>>>24]^n[1][u>>>16&255]^n[2][a>>>8&255]^n[3][f&255]^t[s++];u=c;a=h;f=p;l=d}c=(i[u>>>24]<<24|i[a>>>16&255]<<16|i[f>>>8&255]<<8|i[l&255])^t[s++];h=(i[a>>>24]<<24|i[f>>>16&255]<<16|i[l>>>8&255]<<8|i[u&255])^t[s++];p=(i[f>>>24]<<24|i[l>>>16&255]<<16|i[u>>>8&255]<<8|i[a&255])^t[s++];d=(i[l>>>24]<<24|i[u>>>16&255]<<16|i[a>>>8&255]<<8|i[f&255])^t[s++];return[r(c),r(h),r(p),r(d)]};n.AES=a}).call(this,e("buffer").Buffer)},{buffer:27}],38:[function(e,t,n){(function(n){function s(){r.call(this)}var r=e("stream").Transform;var i=e("inherits");t.exports=s;i(s,r);s.prototype.update=function(e,t,r){this.write(e,t);var i=new n("");var s;while(s=this.read()){i=n.concat([i,s])}if(r){i=i.toString(r)}return i};s.prototype.final=function(e){this.end();var t=new n("");var r;while(r=this.read()){t=n.concat([t,r])}if(e){t=t.toString(e)}return t}}).call(this,e("buffer").Buffer)},{buffer:27,inherits:60,stream:78}],39:[function(e,t,n){(function(n){function f(e,t,s){if(!(this instanceof f)){return new f(e,t,s)}i.call(this);this._cache=new l;this._last=void 0;this._cipher=new r.AES(t);this._prev=new n(s.length);s.copy(this._prev);this._mode=e}function l(){if(!(this instanceof l)){return new l}this.cache=new n("")}function c(e){var t=e[15];if(t===16){return}return e.slice(0,16-t)}var r=e("./aes");var i=e("./cipherBase");var s=e("inherits");var o=e("./modes");var u=e("./streamCipher");var a=e("./EVP_BytesToKey");s(f,i);f.prototype._transform=function(e,t,n){this._cache.add(e);var r;var i;while(r=this._cache.get()){i=this._mode.decrypt(this,r);this.push(i)}n()};f.prototype._flush=function(e){var t=this._cache.flush();if(!t){return e}this.push(c(this._mode.decrypt(this,t)));e()};l.prototype.add=function(e){this.cache=n.concat([this.cache,e])};l.prototype.get=function(){if(this.cache.length>16){var e=this.cache.slice(0,16);this.cache=this.cache.slice(16);return e}return null};l.prototype.flush=function(){if(this.cache.length){return this.cache}};var h={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr")};t.exports=function(e){function t(e,t,r){var i=o[e];if(!i){throw new TypeError("invalid suite type")}if(typeof r==="string"){r=new n(r)}if(typeof t==="string"){t=new n(t)}if(t.length!==i.key/8){throw new TypeError("invalid key length "+t.length)}if(r.length!==i.iv){throw new TypeError("invalid iv length "+r.length)}if(i.type==="stream"){return new u(h[i.mode],t,r,true)}return new f(h[i.mode],t,r)}function r(n,r){var i=o[n];if(!i){throw new TypeError("invalid suite type")}var s=a(e,r,i.key,i.iv);return t(n,s.key,s.iv)}return{createDecipher:r,createDecipheriv:t}}}).call(this,e("buffer").Buffer)},{"./EVP_BytesToKey":36,"./aes":37,"./cipherBase":38,"./modes":42,"./modes/cbc":43,"./modes/cfb":44,"./modes/ctr":45,"./modes/ecb":46,"./modes/ofb":47,"./streamCipher":48,buffer:27,inherits:60}],40:[function(e,t,n){(function(n){function f(e,t,s){if(!(this instanceof f)){return new f(e,t,s)}i.call(this);this._cache=new l;this._cipher=new r.AES(t);this._prev=new n(s.length);s.copy(this._prev);this._mode=e}function l(){if(!(this instanceof l)){return new l}this.cache=new n("")}var r=e("./aes");var i=e("./cipherBase");var s=e("inherits");var o=e("./modes");var u=e("./EVP_BytesToKey");var a=e("./streamCipher");s(f,i);f.prototype._transform=function(e,t,n){this._cache.add(e);var r;var i;while(r=this._cache.get()){i=this._mode.encrypt(this,r);this.push(i)}n()};f.prototype._flush=function(e){var t=this._cache.flush();this.push(this._mode.encrypt(this,t));this._cipher.scrub();e()};l.prototype.add=function(e){this.cache=n.concat([this.cache,e])};l.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);this.cache=this.cache.slice(16);return e}return null};l.prototype.flush=function(){var e=16-this.cache.length;var t=new n(e);var r=-1;while(++r<e){t.writeUInt8(e,r)}var i=n.concat([this.cache,t]);return i};var c={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr")};t.exports=function(e){function t(e,t,r){var i=o[e];if(!i){throw new TypeError("invalid suite type")}if(typeof r==="string"){r=new n(r)}if(typeof t==="string"){t=new n(t)}if(t.length!==i.key/8){throw new TypeError("invalid key length "+t.length)}if(r.length!==i.iv){throw new TypeError("invalid iv length "+r.length)}if(i.type==="stream"){return new a(c[i.mode],t,r)}return new f(c[i.mode],t,r)}function r(n,r){var i=o[n];if(!i){throw new TypeError("invalid suite type")}var s=u(e,r,i.key,i.iv);return t(n,s.key,s.iv)}return{createCipher:r,createCipheriv:t}}}).call(this,e("buffer").Buffer)},{"./EVP_BytesToKey":36,"./aes":37,"./cipherBase":38,"./modes":42,"./modes/cbc":43,"./modes/cfb":44,"./modes/ctr":45,"./modes/ecb":46,"./modes/ofb":47,"./streamCipher":48,buffer:27,inherits:60}],41:[function(e,t,n){t.exports=function(t,n){function o(){return Object.keys(s)}n=n||{};var r=e("./encrypter")(t);n.createCipher=r.createCipher;n.createCipheriv=r.createCipheriv;var i=e("./decrypter")(t);n.createDecipher=i.createDecipher;n.createDecipheriv=i.createDecipheriv;var s=e("./modes");n.listCiphers=o}},{"./decrypter":39,"./encrypter":40,"./modes":42}],42:[function(e,t,n){n["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"};n["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"};n["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"};n["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"};n["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"};n["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"};n["aes128"]=n["aes-128-cbc"];n["aes192"]=n["aes-192-cbc"];n["aes256"]=n["aes-256-cbc"];n["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"};n["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"};n["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"};n["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"};n["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"};n["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"};n["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"};n["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"};n["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"}},{}],43:[function(e,t,n){var r=e("../xor");n.encrypt=function(e,t){var n=r(t,e._prev);e._prev=e._cipher.encryptBlock(n);return e._prev};n.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},{"../xor":49}],44:[function(e,t,n){(function(t){function i(e,n,i){var s=n.length;var o=r(n,e._cache);e._cache=e._cache.slice(s);e._prev=t.concat([e._prev,i?n:o]);return o}var r=e("../xor");n.encrypt=function(e,n,r){var s=new t("");var o;while(n.length){if(e._cache.length===0){e._cache=e._cipher.encryptBlock(e._prev);e._prev=new t("")}if(e._cache.length<=n.length){o=e._cache.length;s=t.concat([s,i(e,n.slice(0,o),r)]);n=n.slice(o)}else{s=t.concat([s,i(e,n,r)]);break}}return s}}).call(this,e("buffer").Buffer)},{"../xor":49,buffer:27}],45:[function(e,t,n){(function(t){function i(e){var t=e._cipher.encryptBlock(e._prev);s(e._prev);return t}function s(e){var t=e.length;var n;while(t--){n=e.readUInt8(t);if(n===255){e.writeUInt8(0,t)}else{n++;e.writeUInt8(n,t);break}}}var r=e("../xor");n.encrypt=function(e,n){while(e._cache.length<n.length){e._cache=t.concat([e._cache,i(e)])}var s=e._cache.slice(0,n.length);e._cache=e._cache.slice(n.length);return r(n,s)}}).call(this,e("buffer").Buffer)},{"../xor":49,buffer:27}],46:[function(e,t,n){n.encrypt=function(e,t){return e._cipher.encryptBlock(t)};n.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],47:[function(e,t,n){(function(t){function i(e){e._prev=e._cipher.encryptBlock(e._prev);return e._prev}var r=e("../xor");n.encrypt=function(e,n){while(e._cache.length<n.length){e._cache=t.concat([e._cache,i(e)])}var s=e._cache.slice(0,n.length);e._cache=e._cache.slice(n.length);return r(n,s)}}).call(this,e("buffer").Buffer)},{"../xor":49,buffer:27}],48:[function(e,t,n){(function(n){function o(e,t,s,u){if(!(this instanceof o)){return new o(e,t,s)}i.call(this);this._cipher=new r.AES(t);this._prev=new n(s.length);this._cache=new n("");this._secCache=new n("");this._decrypt=u;s.copy(this._prev);this._mode=e}var r=e("./aes");var i=e("./cipherBase");var s=e("inherits");s(o,i);t.exports=o;o.prototype._transform=function(e,t,n){n(null,this._mode.encrypt(this,e,this._decrypt))};o.prototype._flush=function(e){this._cipher.scrub();e()}}).call(this,e("buffer").Buffer)},{"./aes":37,"./cipherBase":38,buffer:27,inherits:60}],49:[function(e,t,n){(function(e){function n(t,n){var r=Math.min(t.length,n.length);var i=new e(r);var s=-1;while(++s<r){i.writeUInt8(t[s]^n[s],s)}return i}t.exports=n}).call(this,e("buffer").Buffer)},{buffer:27}],50:[function(e,t,n){(function(e){t.exports=function(t){function n(e,t,n,i,s,o){if("function"===typeof s){o=s;s=undefined}if("function"!==typeof o)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var u;try{u=r(e,t,n,i,s)}catch(a){return o(a)}o(undefined,u)})}function r(n,r,i,s,o){if("number"!==typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!==typeof s)throw new TypeError("Key length not a number");if(s<0)throw new TypeError("Bad key length");o=o||"sha1";if(!e.isBuffer(n))n=new e(n);if(!e.isBuffer(r))r=new e(r);var u,a=1,f,l;var c=new e(s);var h=new e(r.length+4);r.copy(h,0,0,r.length);for(var p=1;p<=a;p++){h.writeUInt32BE(p,r.length);var d=t.createHmac(o,n).update(h).digest();if(!u){u=d.length;l=new e(u);a=Math.ceil(s/u);f=s-(a-1)*u;if(s>(Math.pow(2,32)-1)*u)throw new TypeError("keylen exceeds maximum length")}d.copy(l,0,0,u);for(var v=1;v<i;v++){d=t.createHmac(o,n).update(d).digest();for(var m=0;m<u;m++){l[m]^=d[m]}}var g=(p-1)*u;var y=p==a?f:u;l.copy(c,g,0,y)}return c}return{pbkdf2:n,pbkdf2Sync:r}}}).call(this,e("buffer").Buffer)},{buffer:27}],51:[function(e,t,n){(function(e){function c(e,t,n){return e^t^n}function h(e,t,n){return e&t|~e&n}function p(e,t,n){return(e|~t)^n}function d(e,t,n){return e&n|t&~n}function v(e,t,n){return e^(t|~n)}function m(e,t){return e<<t|e>>>32-t}function g(t){var n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string")t=new e(t,"utf8");var r=a(t);var i=t.length*8;var s=t.length*8;r[i>>>5]|=128<<24-i%32;r[(i+64>>>9<<4)+14]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360;for(var o=0;o<r.length;o+=16){l(n,r,o)}for(var o=0;o<5;o++){var u=n[o];n[o]=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360}var c=f(n);return new e(c)}t.exports=g;var n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var r=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var i=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var s=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var o=[0,1518500249,1859775393,2400959708,2840853838];var u=[1352829926,1548603684,1836072691,2053994217,0];var a=function(e){var t=[];for(var n=0,r=0;n<e.length;n++,r+=8){t[r>>>5]|=e[n]<<24-r%32}return t};var f=function(e){var t=[];for(var n=0;n<e.length*32;n+=8){t.push(e[n>>>5]>>>24-n%32&255)}return t};var l=function(e,t,a){for(var f=0;f<16;f++){var l=a+f;var g=t[l];t[l]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var y,b,w,E,S;var x,T,N,C,k;x=y=e[0];T=b=e[1];N=w=e[2];C=E=e[3];k=S=e[4];var L;for(var f=0;f<80;f+=1){L=y+t[a+n[f]]|0;if(f<16){L+=c(b,w,E)+o[0]}else if(f<32){L+=h(b,w,E)+o[1]}else if(f<48){L+=p(b,w,E)+o[2]}else if(f<64){L+=d(b,w,E)+o[3]}else{L+=v(b,w,E)+o[4]}L=L|0;L=m(L,i[f]);L=L+S|0;y=S;S=E;E=m(w,10);w=b;b=L;L=x+t[a+r[f]]|0;if(f<16){L+=v(T,N,C)+u[0]}else if(f<32){L+=d(T,N,C)+u[1]}else if(f<48){L+=p(T,N,C)+u[2]}else if(f<64){L+=h(T,N,C)+u[3]}else{L+=c(T,N,C)+u[4]}L=L|0;L=m(L,s[f]);L=L+k|0;x=k;k=C;C=m(N,10);N=T;T=L}L=e[1]+w+C|0;e[1]=e[2]+E+k|0;e[2]=e[3]+S+x|0;e[3]=e[4]+y+T|0;e[4]=e[0]+b+N|0;e[0]=L}}).call(this,e("buffer").Buffer)},{buffer:27}],52:[function(e,t,n){t.exports=function(e){function t(t,n){this._block=new e(t);this._finalSize=n;this._blockSize=t;this._len=0;this._s=0}t.prototype.init=function(){this._s=0;this._len=0};t.prototype.update=function(t,n){if("string"===typeof t){n=n||"utf8";t=new e(t,n)}var r=this._len+=t.length;var i=this._s=this._s||0;var s=0;var o=this._block;while(i<r){var u=Math.min(t.length,s+this._blockSize-i%this._blockSize);var a=u-s;for(var f=0;f<a;f++){o[i%this._blockSize+f]=t[f+s]}i+=a;s+=a;if(i%this._blockSize===0){this._update(o)}}this._s=i;return this};t.prototype.digest=function(e){var t=this._len*8;this._block[this._len%this._blockSize]=128;this._block.fill(0,this._len%this._blockSize+1);if(t%(this._blockSize*8)>=this._finalSize*8){this._update(this._block);this._block.fill(0)}this._block.writeInt32BE(t,this._blockSize-4);var n=this._update(this._block)||this._hash();return e?n.toString(e):n};t.prototype._update=function(){throw new Error("_update must be implemented by subclass")};return t}},{}],53:[function(e,t,n){var n=t.exports=function(e){var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};var r=e("buffer").Buffer;var i=e("./hash")(r);n.sha1=e("./sha1")(r,i);n.sha256=e("./sha256")(r,i);n.sha512=e("./sha512")(r,i)},{"./hash":52,"./sha1":54,"./sha256":55,"./sha512":56,buffer:27}],54:[function(e,t,n){var r=e("util").inherits;t.exports=function(e,t){function l(){if(f.length)return f.pop().init();if(!(this instanceof l))return new l;this._w=a;t.call(this,16*4,14*4);this._h=null;this.init()}function c(e,t,n,r){if(e<20)return t&n|~t&r;if(e<40)return t^n^r;if(e<60)return t&n|t&r|n&r;return t^n^r}function h(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function p(e,t){return e+t|0}function d(e,t){return e<<t|e>>>32-t}var n=0|0;var i=4|0;var s=8|0;var o=12|0;var u=16|0;var a=new(typeof Int32Array==="undefined"?Array:Int32Array)(80);var f=[];r(l,t);l.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;t.prototype.init.call(this);return this};l.prototype._POOL=f;l.prototype._update=function(e){var t,n,r,i,s,o,u,a,f,l;t=o=this._a;n=u=this._b;r=a=this._c;i=f=this._d;s=l=this._e;var v=this._w;for(var m=0;m<80;m++){var g=v[m]=m<16?e.readInt32BE(m*4):d(v[m-3]^v[m-8]^v[m-14]^v[m-16],1);var y=p(p(d(t,5),c(m,n,r,i)),p(p(s,g),h(m)));s=i;i=r;r=d(n,30);n=t;t=y}this._a=p(t,o);this._b=p(n,u);this._c=p(r,a);this._d=p(i,f);this._e=p(s,l)};l.prototype._hash=function(){if(f.length<100)f.push(this);var t=new e(20);t.writeInt32BE(this._a|0,n);t.writeInt32BE(this._b|0,i);t.writeInt32BE(this._c|0,s);t.writeInt32BE(this._d|0,o);t.writeInt32BE(this._e|0,u);return t};return l}},{util:82}],55:[function(e,t,n){var r=e("util").inherits;t.exports=function(e,t){function s(){this.init();this._w=i;t.call(this,16*4,14*4)}function o(e,t){return e>>>t|e<<32-t}function u(e,t){return e>>>t}function a(e,t,n){return e&t^~e&n}function f(e,t,n){return e&t^e&n^t&n}function l(e){return o(e,2)^o(e,13)^o(e,22)}function c(e){return o(e,6)^o(e,11)^o(e,25)}function h(e){return o(e,7)^o(e,18)^u(e,3)}function p(e){return o(e,17)^o(e,19)^u(e,10)}var n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var i=new Array(64);r(s,t);s.prototype.init=function(){this._a=1779033703|0;this._b=3144134277|0;this._c=1013904242|0;this._d=2773480762|0;this._e=1359893119|0;this._f=2600822924|0;this._g=528734635|0;this._h=1541459225|0;this._len=this._s=0;return this};s.prototype._update=function(e){var t=this._w;var r,i,s,o,u,d,v,m;var g,y;r=this._a|0;i=this._b|0;s=this._c|0;o=this._d|0;u=this._e|0;d=this._f|0;v=this._g|0;m=this._h|0;for(var b=0;b<64;b++){var w=t[b]=b<16?e.readInt32BE(b*4):p(t[b-2])+t[b-7]+h(t[b-15])+t[b-16];g=m+c(u)+a(u,d,v)+n[b]+w;y=l(r)+f(r,i,s);m=v;v=d;d=u;u=o+g;o=s;s=i;i=r;r=g+y}this._a=r+this._a|0;this._b=i+this._b|0;this._c=s+this._c|0;this._d=o+this._d|0;this._e=u+this._e|0;this._f=d+this._f|0;this._g=v+this._g|0;this._h=m+this._h|0};s.prototype._hash=function(){var t=new e(32);t.writeInt32BE(this._a,0);t.writeInt32BE(this._b,4);t.writeInt32BE(this._c,8);t.writeInt32BE(this._d,12);t.writeInt32BE(this._e,16);t.writeInt32BE(this._f,20);t.writeInt32BE(this._g,24);t.writeInt32BE(this._h,28);return t};return s}},{util:82}],56:[function(e,t,n){var r=e("util").inherits;t.exports=function(e,t){function s(){this.init();this._w=i;t.call(this,128,112)}function o(e,t,n){return e>>>n|t<<32-n}function u(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}var n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var i=new Array(160);r(s,t);s.prototype.init=function(){this._a=1779033703|0;this._b=3144134277|0;this._c=1013904242|0;this._d=2773480762|0;this._e=1359893119|0;this._f=2600822924|0;this._g=528734635|0;this._h=1541459225|0;this._al=4089235720|0;this._bl=2227873595|0;this._cl=4271175723|0;this._dl=1595750129|0;this._el=2917565137|0;this._fl=725511199|0;this._gl=4215389547|0;this._hl=327033209|0;this._len=this._s=0;return this};s.prototype._update=function(e){var t=this._w;var r,i,s,f,l,c,h,p;var d,v,m,g,y,b,w,E;r=this._a|0;i=this._b|0;s=this._c|0;f=this._d|0;l=this._e|0;c=this._f|0;h=this._g|0;p=this._h|0;d=this._al|0;v=this._bl|0;m=this._cl|0;g=this._dl|0;y=this._el|0;b=this._fl|0;w=this._gl|0;E=this._hl|0;for(var x=0;x<80;x++){var T=x*2;var N,C;if(x<16){N=t[T]=e.readInt32BE(T*4);C=t[T+1]=e.readInt32BE(T*4+4)}else{var k=t[T-15*2];var L=t[T-15*2+1];var A=o(k,L,1)^o(k,L,8)^k>>>7;var O=o(L,k,1)^o(L,k,8)^o(L,k,7);k=t[T-2*2];L=t[T-2*2+1];var M=o(k,L,19)^o(L,k,29)^k>>>6;var _=o(L,k,19)^o(k,L,29)^o(L,k,6);var D=t[T-7*2];var P=t[T-7*2+1];var H=t[T-16*2];var B=t[T-16*2+1];C=O+P;N=A+D+(C>>>0<O>>>0?1:0);C=C+_;N=N+M+(C>>>0<_>>>0?1:0);C=C+B;N=N+H+(C>>>0<B>>>0?1:0);t[T]=N;t[T+1]=C}var j=a(r,i,s);var F=a(d,v,m);var I=o(r,d,28)^o(d,r,2)^o(d,r,7);var q=o(d,r,28)^o(r,d,2)^o(r,d,7);var R=o(l,y,14)^o(l,y,18)^o(y,l,9);var U=o(y,l,14)^o(y,l,18)^o(l,y,9);var z=n[T];var W=n[T+1];var X=u(l,c,h);var V=u(y,b,w);var $=E+U;var J=p+R+($>>>0<E>>>0?1:0);$=$+V;J=J+X+($>>>0<V>>>0?1:0);$=$+W;J=J+z+($>>>0<W>>>0?1:0);$=$+C;J=J+N+($>>>0<C>>>0?1:0);var Q=q+F;var G=I+j+(Q>>>0<q>>>0?1:0);p=h;E=w;h=c;w=b;c=l;b=y;y=g+$|0;l=f+J+(y>>>0<g>>>0?1:0)|0;f=s;g=m;s=i;m=v;i=r;v=d;d=$+Q|0;r=J+G+(d>>>0<$>>>0?1:0)|0}this._al=this._al+d|0;this._bl=this._bl+v|0;this._cl=this._cl+m|0;this._dl=this._dl+g|0;this._el=this._el+y|0;this._fl=this._fl+b|0;this._gl=this._gl+w|0;this._hl=this._hl+E|0;this._a=this._a+r+(this._al>>>0<d>>>0?1:0)|0;this._b=this._b+i+(this._bl>>>0<v>>>0?1:0)|0;this._c=this._c+s+(this._cl>>>0<m>>>0?1:0)|0;this._d=this._d+f+(this._dl>>>0<g>>>0?1:0)|0;this._e=this._e+l+(this._el>>>0<y>>>0?1:0)|0;this._f=this._f+c+(this._fl>>>0<b>>>0?1:0)|0;this._g=this._g+h+(this._gl>>>0<w>>>0?1:0)|0;this._h=this._h+p+(this._hl>>>0<E>>>0?1:0)|0};s.prototype._hash=function(){function n(e,n,r){t.writeInt32BE(e,r);t.writeInt32BE(n,r+4)}var t=new e(64);n(this._a,this._al,0);n(this._b,this._bl,8);n(this._c,this._cl,16);n(this._d,this._dl,24);n(this._e,this._el,32);n(this._f,this._fl,40);n(this._g,this._gl,48);n(this._h,this._hl,56);return t};return s}},{util:82}],57:[function(e,t,n){var r=e("pbkdf2-compat/pbkdf2");t.exports=function(e,t){t=t||{};var n=r(e);t.pbkdf2=n.pbkdf2;t.pbkdf2Sync=n.pbkdf2Sync;return t}},{"pbkdf2-compat/pbkdf2":50}],58:[function(e,t,n){(function(n,r){(function(){var i=("undefined"===typeof window?n:window)||{};_crypto=i.crypto||i.msCrypto||e("crypto");t.exports=function(e){if(_crypto.getRandomValues){var t=new r(e);_crypto.getRandomValues(t);return t}else if(_crypto.randomBytes){return _crypto.randomBytes(e)}else throw new Error("secure random number generation not supported by this browser\n"+"use chrome, FireFox or Internet Explorer 11")}})()}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},e("buffer").Buffer)},{buffer:27,crypto:26}],59:[function(e,t,n){function r(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}function i(e){return typeof e==="function"}function s(e){return typeof e==="number"}function o(e){return typeof e==="object"&&e!==null}function u(e){return e===void 0}t.exports=r;r.EventEmitter=r;r.prototype._events=undefined;r.prototype._maxListeners=undefined;r.defaultMaxListeners=10;r.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};r.prototype.emit=function(e){var t,n,r,s,a,f;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}n=this._events[e];if(u(n))return false;if(i(n)){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=arguments.length;s=new Array(r-1);for(a=1;a<r;a++)s[a-1]=arguments[a];n.apply(this,s)}}else if(o(n)){r=arguments.length;s=new Array(r-1);for(a=1;a<r;a++)s[a-1]=arguments[a];f=n.slice();r=f.length;for(a=0;a<r;a++)f[a].apply(this,s)}return true};r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,i(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(o(this._events[e])&&!this._events[e].warned){var n;if(!u(this._maxListeners)){n=this._maxListeners}else{n=r.defaultMaxListeners}if(n&&n>0&&this._events[e].length>n){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};r.prototype.on=r.prototype.addListener;r.prototype.once=function(e,t){function r(){this.removeListener(e,r);if(!n){n=true;t.apply(this,arguments)}}if(!i(t))throw TypeError("listener must be a function");var n=false;r.listener=t;this.on(e,r);return this};r.prototype.removeListener=function(e,t){var n,r,s,u;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;n=this._events[e];s=n.length;r=-1;if(n===t||i(n.listener)&&n.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(o(n)){for(u=s;u-->0;){if(n[u]===t||n[u].listener&&n[u].listener===t){r=u;break}}if(r<0)return this;if(n.length===1){n.length=0;delete this._events[e]}else{n.splice(r,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}n=this._events[e];if(i(n)){this.removeListener(e,n)}else{while(n.length)this.removeListener(e,n[n.length-1])}delete this._events[e];return this};r.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(i(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};r.listenerCount=function(e,t){var n;if(!e._events||!e._events[t])n=0;else if(i(e._events[t]))n=1;else n=e._events[t].length;return n}},{}],60:[function(e,t,n){t.exports=e(16)},{"/Users/dana1/clones/mows/node_modules/mqtt/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":16}],61:[function(e,t,n){t.exports=e(17)},{"/Users/dana1/clones/mows/node_modules/mqtt/node_modules/readable-stream/node_modules/isarray/index.js":17}],62:[function(e,t,n){function i(){}var r=t.exports={};r.nextTick=function(){var e=typeof window!=="undefined"&&window.setImmediate;var t=typeof window!=="undefined"&&window.MutationObserver;var n=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(e){return function(e){return window.setImmediate(e)}}var r=[];if(t){var i=document.createElement("div");var s=new MutationObserver(function(){var e=r.slice();r.length=0;e.forEach(function(e){e()})});s.observe(i,{attributes:true});return function(t){if(!r.length){i.setAttribute("yes","no")}r.push(t)}}if(n){window.addEventListener("message",function(e){var t=e.source;if((t===window||t===null)&&e.data==="process-tick"){e.stopPropagation();if(r.length>0){var n=r.shift();n()}}},true);return function(t){r.push(t);window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}();r.title="browser";r.browser=true;r.env={};r.argv=[];r.on=i;r.addListener=i;r.once=i;r.off=i;r.removeListener=i;r.removeAllListeners=i;r.emit=i;r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],63:[function(t,n,r){(function(t){(function(i){function C(e){throw RangeError(E[e])}function k(e,t){var n=e.length;while(n--){e[n]=t(e[n])}return e}function L(e,t){return k(e.split(w),t).join(".")}function A(e){var t=[],n=0,r=e.length,i,s;while(n<r){i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){s=e.charCodeAt(n++);if((s&64512)==56320){t.push(((i&1023)<<10)+(s&1023)+65536)}else{t.push(i);n--}}else{t.push(i)}}return t}function O(e){return k(e,function(e){var t="";if(e>65535){e-=65536;t+=T(e>>>10&1023|55296);e=56320|e&1023}t+=T(e);return t}).join("")}function M(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return l}function _(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function D(e,t,n){var r=0;e=n?x(e/d):e>>1;e+=x(e/t);for(;e>S*h>>1;r+=l){e=x(e/S)}return x(r+(S+1)*e/(e+p))}function P(e){var t=[],n=e.length,r,i=0,s=m,o=v,u,a,p,d,y,b,w,E,S;u=e.lastIndexOf(g);if(u<0){u=0}for(a=0;a<u;++a){if(e.charCodeAt(a)>=128){C("not-basic")}t.push(e.charCodeAt(a))}for(p=u>0?u+1:0;p<n;){for(d=i,y=1,b=l;;b+=l){if(p>=n){C("invalid-input")}w=M(e.charCodeAt(p++));if(w>=l||w>x((f-i)/y)){C("overflow")}i+=w*y;E=b<=o?c:b>=o+h?h:b-o;if(w<E){break}S=l-E;if(y>x(f/S)){C("overflow")}y*=S}r=t.length+1;o=D(i-d,r,d==0);if(x(i/r)>f-s){C("overflow")}s+=x(i/r);i%=r;t.splice(i++,0,s)}return O(t)}function H(e){var t,n,r,i,s,o,u,a,p,d,y,b=[],w,E,S,N;e=A(e);w=e.length;t=m;n=0;s=v;for(o=0;o<w;++o){y=e[o];if(y<128){b.push(T(y))}}r=i=b.length;if(i){b.push(g)}while(r<w){for(u=f,o=0;o<w;++o){y=e[o];if(y>=t&&y<u){u=y}}E=r+1;if(u-t>x((f-n)/E)){C("overflow")}n+=(u-t)*E;t=u;for(o=0;o<w;++o){y=e[o];if(y<t&&++n>f){C("overflow")}if(y==t){for(a=n,p=l;;p+=l){d=p<=s?c:p>=s+h?h:p-s;if(a<d){break}N=a-d;S=l-d;b.push(T(_(d+N%S,0)));a=x(N/S)}b.push(T(_(a,0)));s=D(n,E,r==i);n=0;++r}}++n;++t}return b.join("")}function B(e){return L(e,function(e){return y.test(e)?P(e.slice(4).toLowerCase()):e})}function j(e){return L(e,function(e){return b.test(e)?"xn--"+H(e):e})}var s=typeof r=="object"&&r;var o=typeof n=="object"&&n&&n.exports==s&&n;var u=typeof t=="object"&&t;if(u.global===u||u.window===u){i=u}var a,f=2147483647,l=36,c=1,h=26,p=38,d=700,v=72,m=128,g="-",y=/^xn--/,b=/[^ -~]/,w=/\x2E|\u3002|\uFF0E|\uFF61/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=l-c,x=Math.floor,T=String.fromCharCode,N;a={version:"1.2.4",ucs2:{decode:A,encode:O},decode:P,encode:H,toASCII:j,toUnicode:B};if(typeof e=="function"&&typeof e.amd=="object"&&e.amd){e("punycode",function(){return a})}else if(s&&!s.nodeType){if(o){o.exports=a}else{for(N in a){a.hasOwnProperty(N)&&(s[N]=a[N])}}}else{i.punycode=a}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],64:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,s){t=t||"&";n=n||"=";var o={};if(typeof e!=="string"||e.length===0){return o}var u=/\+/g;e=e.split(t);var a=1e3;if(s&&typeof s.maxKeys==="number"){a=s.maxKeys}var f=e.length;if(a>0&&f>a){f=a}for(var l=0;l<f;++l){var c=e[l].replace(u,"%20"),h=c.indexOf(n),p,d,v,m;if(h>=0){p=c.substr(0,h);d=c.substr(h+1)}else{p=c;d=""}v=decodeURIComponent(p);m=decodeURIComponent(d);if(!r(o,v)){o[v]=m}else if(i(o[v])){o[v].push(m)}else{o[v]=[o[v],m]}}return o};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{}],65:[function(e,t,n){"use strict";function s(e,t){if(e.map)return e.map(t);var n=[];for(var r=0;r<e.length;r++){n.push(t(e[r],r))}return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,u){t=t||"&";n=n||"=";if(e===null){e=undefined}if(typeof e==="object"){return s(o(e),function(o){var u=encodeURIComponent(r(o))+n;if(i(e[o])){return s(e[o],function(e){return u+encodeURIComponent(r(e))}).join(t)}else{return u+encodeURIComponent(r(e[o]))}}).join(t)}if(!u)return"";return encodeURIComponent(r(u))+n+encodeURIComponent(r(e))};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};var o=Object.keys||function(e){var t=[];for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t.push(n)}return t}},{}],66:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode");n.encode=n.stringify=e("./encode")},{"./decode":64,"./encode":65}],67:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":68}],68:[function(e,t,n){t.exports=e(10)},{"./_stream_readable":70,"./_stream_writable":72,"/Users/dana1/clones/mows/node_modules/mqtt/node_modules/readable-stream/lib/_stream_duplex.js":10,_process:62,"core-util-is":73,inherits:60}],69:[function(e,t,n){t.exports=e(11)},{"./_stream_transform":71,"/Users/dana1/clones/mows/node_modules/mqtt/node_modules/readable-stream/lib/_stream_passthrough.js":11,"core-util-is":73,inherits:60}],70:[function(e,t,n){t.exports=e(12)},{"/Users/dana1/clones/mows/node_modules/mqtt/node_modules/readable-stream/lib/_stream_readable.js":12,_process:62,buffer:27,"core-util-is":73,events:59,inherits:60,isarray:61,stream:78,"string_decoder/":79}],71:[function(e,t,n){t.exports=e(13)},{"./_stream_duplex":68,"/Users/dana1/clones/mows/node_modules/mqtt/node_modules/readable-stream/lib/_stream_transform.js":13,"core-util-is":73,inherits:60}],72:[function(e,t,n){t.exports=e(14)},{"./_stream_duplex":68,"/Users/dana1/clones/mows/node_modules/mqtt/node_modules/readable-stream/lib/_stream_writable.js":14,_process:62,buffer:27,"core-util-is":73,inherits:60,stream:78}],73:[function(e,t,n){t.exports=e(15)},{"/Users/dana1/clones/mows/node_modules/mqtt/node_modules/readable-stream/node_modules/core-util-is/lib/util.js":15,buffer:27}],74:[function(e,t,n){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":69}],75:[function(e,t,n){t.exports=e(19)},{"./lib/_stream_duplex.js":68,"./lib/_stream_passthrough.js":69,"./lib/_stream_readable.js":70,"./lib/_stream_transform.js":71,"./lib/_stream_writable.js":72,"/Users/dana1/clones/mows/node_modules/mqtt/node_modules/readable-stream/readable.js":19,stream:78}],76:[function(e,t,n){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":71}],77:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":72}],78:[function(e,t,n){function s(){r.call(this)}t.exports=s;var r=e("events").EventEmitter;var i=e("inherits");i(s,r);s.Readable=e("readable-stream/readable.js");s.Writable=e("readable-stream/writable.js");s.Duplex=e("readable-stream/duplex.js");s.Transform=e("readable-stream/transform.js");s.PassThrough=e("readable-stream/passthrough.js");s.Stream=s;s.prototype.pipe=function(e,t){function i(t){if(e.writable){if(false===e.write(t)&&n.pause){n.pause()}}}function s(){if(n.readable&&n.resume){n.resume()}}function u(){if(o)return;o=true;e.end()}function a(){if(o)return;o=true;if(typeof e.destroy==="function")e.destroy()}function f(e){l();if(r.listenerCount(this,"error")===0){throw e}}function l(){n.removeListener("data",i);e.removeListener("drain",s);n.removeListener("end",u);n.removeListener("close",a);n.removeListener("error",f);e.removeListener("error",f);n.removeListener("end",l);n.removeListener("close",l);e.removeListener("close",l)}var n=this;n.on("data",i);e.on("drain",s);if(!e._isStdio&&(!t||t.end!==false)){n.on("end",u);n.on("close",a)}var o=false;n.on("error",f);e.on("error",f);n.on("end",l);n.on("close",l);e.on("close",l);e.emit("pipe",n);return e}},{events:59,inherits:60,"readable-stream/duplex.js":67,"readable-stream/passthrough.js":74,"readable-stream/readable.js":75,"readable-stream/transform.js":76,"readable-stream/writable.js":77}],79:[function(e,t,n){t.exports=e(18)},{"/Users/dana1/clones/mows/node_modules/mqtt/node_modules/readable-stream/node_modules/string_decoder/index.js":18,buffer:27}],80:[function(e,t,n){function i(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}function b(e,t,n){if(e&&T(e)&&e instanceof i)return e;var r=new i;r.parse(e,t,n);return r}function w(e){if(x(e))e=b(e);if(!(e instanceof i))return i.prototype.format.call(e);return e.format()}function E(e,t){return b(e,false,true).resolve(t)}function S(e,t){if(!e)return t;return b(e,false,true).resolveObject(t)}function x(e){return typeof e==="string"}function T(e){return typeof e==="object"&&e!==null}function N(e){return e===null}function C(e){return e==null}var r=e("punycode");n.parse=b;n.resolve=E;n.resolveObject=S;n.format=w;n.Url=i;var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,u=["<",">",'"',"`"," ","\r","\n","	"],a=["{","}","|","\\","^","`"].concat(u),f=["'"].concat(a),l=["%","/","?",";","#"].concat(f),c=["/","?","#"],h=255,p=/^[a-z0-9A-Z_-]{0,63}$/,d=/^([a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:true,"javascript:":true},m={javascript:true,"javascript:":true},g={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},y=e("querystring");i.prototype.parse=function(e,t,n){if(!x(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var i=e;i=i.trim();var o=s.exec(i);if(o){o=o[0];var u=o.toLowerCase();this.protocol=u;i=i.substr(o.length)}if(n||o||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var a=i.substr(0,2)==="//";if(a&&!(o&&m[o])){i=i.substr(2);this.slashes=true}}if(!m[o]&&(a||o&&!g[o])){var b=-1;for(var w=0;w<c.length;w++){var E=i.indexOf(c[w]);if(E!==-1&&(b===-1||E<b))b=E}var S,T;if(b===-1){T=i.lastIndexOf("@")}else{T=i.lastIndexOf("@",b)}if(T!==-1){S=i.slice(0,T);i=i.slice(T+1);this.auth=decodeURIComponent(S)}b=-1;for(var w=0;w<l.length;w++){var E=i.indexOf(l[w]);if(E!==-1&&(b===-1||E<b))b=E}if(b===-1)b=i.length;this.host=i.slice(0,b);i=i.slice(b);this.parseHost();this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N){var C=this.hostname.split(/\./);for(var w=0,k=C.length;w<k;w++){var L=C[w];if(!L)continue;if(!L.match(p)){var A="";for(var O=0,M=L.length;O<M;O++){if(L.charCodeAt(O)>127){A+="x"}else{A+=L[O]}}if(!A.match(p)){var _=C.slice(0,w);var D=C.slice(w+1);var P=L.match(d);if(P){_.push(P[1]);D.unshift(P[2])}if(D.length){i="/"+D.join(".")+i}this.hostname=_.join(".");break}}}}if(this.hostname.length>h){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!N){var H=this.hostname.split(".");var B=[];for(var w=0;w<H.length;++w){var j=H[w];B.push(j.match(/[^A-Za-z0-9_-]/)?"xn--"+r.encode(j):j)}this.hostname=B.join(".")}var F=this.port?":"+this.port:"";var I=this.hostname||"";this.host=I+F;this.href+=this.host;if(N){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(i[0]!=="/"){i="/"+i}}}if(!v[u]){for(var w=0,k=f.length;w<k;w++){var q=f[w];var R=encodeURIComponent(q);if(R===q){R=escape(q)}i=i.split(q).join(R)}}var U=i.indexOf("#");if(U!==-1){this.hash=i.substr(U);i=i.slice(0,U)}var z=i.indexOf("?");if(z!==-1){this.search=i.substr(z);this.query=i.substr(z+1);if(t){this.query=y.parse(this.query)}i=i.slice(0,z)}else if(t){this.search="";this.query={}}if(i)this.pathname=i;if(g[u]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var F=this.pathname||"";var j=this.search||"";this.path=F+j}this.href=this.format();return this};i.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=false,s="";if(this.host){i=e+this.host}else if(this.hostname){i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){i+=":"+this.port}}if(this.query&&T(this.query)&&Object.keys(this.query).length){s=y.stringify(this.query)}var o=this.search||s&&"?"+s||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||g[t])&&i!==false){i="//"+(i||"");if(n&&n.charAt(0)!=="/")n="/"+n}else if(!i){i=""}if(r&&r.charAt(0)!=="#")r="#"+r;if(o&&o.charAt(0)!=="?")o="?"+o;n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)});o=o.replace("#","%23");return t+i+n+o+r};i.prototype.resolve=function(e){return this.resolveObject(b(e,false,true)).format()};i.prototype.resolveObject=function(e){if(x(e)){var t=new i;t.parse(e,false,true);e=t}var n=new i;Object.keys(this).forEach(function(e){n[e]=this[e]},this);n.hash=e.hash;if(e.href===""){n.href=n.format();return n}if(e.slashes&&!e.protocol){Object.keys(e).forEach(function(t){if(t!=="protocol")n[t]=e[t]});if(g[n.protocol]&&n.hostname&&!n.pathname){n.path=n.pathname="/"}n.href=n.format();return n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){Object.keys(e).forEach(function(t){n[t]=e[t]});n.href=n.format();return n}n.protocol=e.protocol;if(!e.host&&!m[e.protocol]){var r=(e.pathname||"").split("/");while(r.length&&!(e.host=r.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(r[0]!=="")r.unshift("");if(r.length<2)r.unshift("");n.pathname=r.join("/")}else{n.pathname=e.pathname}n.search=e.search;n.query=e.query;n.host=e.host||"";n.auth=e.auth;n.hostname=e.hostname||e.host;n.port=e.port;if(n.pathname||n.search){var s=n.pathname||"";var o=n.search||"";n.path=s+o}n.slashes=n.slashes||e.slashes;n.href=n.format();return n}var u=n.pathname&&n.pathname.charAt(0)==="/",a=e.host||e.pathname&&e.pathname.charAt(0)==="/",f=a||u||n.host&&e.pathname,l=f,c=n.pathname&&n.pathname.split("/")||[],r=e.pathname&&e.pathname.split("/")||[],h=n.protocol&&!g[n.protocol];if(h){n.hostname="";n.port=null;if(n.host){if(c[0]==="")c[0]=n.host;else c.unshift(n.host)}n.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(r[0]==="")r[0]=e.host;else r.unshift(e.host)}e.host=null}f=f&&(r[0]===""||c[0]==="")}if(a){n.host=e.host||e.host===""?e.host:n.host;n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname;n.search=e.search;n.query=e.query;c=r}else if(r.length){if(!c)c=[];c.pop();c=c.concat(r);n.search=e.search;n.query=e.query}else if(!C(e.search)){if(h){n.hostname=n.host=c.shift();var p=n.host&&n.host.indexOf("@")>0?n.host.split("@"):false;if(p){n.auth=p.shift();n.host=n.hostname=p.shift()}}n.search=e.search;n.query=e.query;if(!N(n.pathname)||!N(n.search)){n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")}n.href=n.format();return n}if(!c.length){n.pathname=null;if(n.search){n.path="/"+n.search}else{n.path=null}n.href=n.format();return n}var d=c.slice(-1)[0];var v=(n.host||e.host)&&(d==="."||d==="..")||d==="";var y=0;for(var b=c.length;b>=0;b--){d=c[b];if(d=="."){c.splice(b,1)}else if(d===".."){c.splice(b,1);y++}else if(y){c.splice(b,1);y--}}if(!f&&!l){for(;y--;y){c.unshift("..")}}if(f&&c[0]!==""&&(!c[0]||c[0].charAt(0)!=="/")){c.unshift("")}if(v&&c.join("/").substr(-1)!=="/"){c.push("")}var w=c[0]===""||c[0]&&c[0].charAt(0)==="/";if(h){n.hostname=n.host=w?"":c.length?c.shift():"";var p=n.host&&n.host.indexOf("@")>0?n.host.split("@"):false;if(p){n.auth=p.shift();n.host=n.hostname=p.shift()}}f=f||n.host&&c.length;if(f&&!w){c.unshift("")}if(!c.length){n.pathname=null;n.path=null}else{n.pathname=c.join("/")}if(!N(n.pathname)||!N(n.search)){n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")}n.auth=e.auth||n.auth;n.slashes=n.slashes||e.slashes;n.href=n.format();return n};i.prototype.parseHost=function(){var e=this.host;var t=o.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e}},{punycode:63,querystring:66}],81:[function(e,t,n){t.exports=function(t){return t&&typeof t==="object"&&typeof t.copy==="function"&&typeof t.fill==="function"&&typeof t.readUInt8==="function"}},{}],82:[function(e,t,n){(function(t,r){function u(e,t){var r={seen:[],stylize:f};if(arguments.length>=3)r.depth=arguments[2];if(arguments.length>=4)r.colors=arguments[3];if(y(t)){r.showHidden=t}else if(t){n._extend(r,t)}if(T(r.showHidden))r.showHidden=false;if(T(r.depth))r.depth=2;if(T(r.colors))r.colors=false;if(T(r.customInspect))r.customInspect=true;if(r.colors)r.stylize=a;return c(r,e,r.depth)}function a(e,t){var n=u.styles[t];if(n){return"["+u.colors[n][0]+"m"+e+"["+u.colors[n][1]+"m"}else{return e}}function f(e,t){return e}function l(e){var t={};e.forEach(function(e,n){t[e]=true});return t}function c(e,t,r){if(e.customInspect&&t&&A(t.inspect)&&t.inspect!==n.inspect&&!(t.constructor&&t.constructor.prototype===t)){var i=t.inspect(r,e);if(!S(i)){i=c(e,i,r)}return i}var s=h(e,t);if(s){return s}var o=Object.keys(t);var u=l(o);if(e.showHidden){o=Object.getOwnPropertyNames(t)}if(L(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0)){return p(t)}if(o.length===0){if(A(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(N(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(k(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(L(t)){return p(t)}}var f="",y=false,b=["{","}"];if(g(t)){y=true;b=["[","]"]}if(A(t)){var w=t.name?": "+t.name:"";f=" [Function"+w+"]"}if(N(t)){f=" "+RegExp.prototype.toString.call(t)}if(k(t)){f=" "+Date.prototype.toUTCString.call(t)}if(L(t)){f=" "+p(t)}if(o.length===0&&(!y||t.length==0)){return b[0]+f+b[1]}if(r<0){if(N(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var E;if(y){E=d(e,t,r,u,o)}else{E=o.map(function(n){return v(e,t,r,u,n,y)})}e.seen.pop();return m(E,f,b)}function h(e,t){if(T(t))return e.stylize("undefined","undefined");if(S(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(E(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i){var s=[];for(var o=0,u=t.length;o<u;++o){if(H(t,String(o))){s.push(v(e,t,n,r,String(o),true))}else{s.push("")}}i.forEach(function(i){if(!i.match(/^\d+$/)){s.push(v(e,t,n,r,i,true))}});return s}function v(e,t,n,r,i,s){var o,u,a;a=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(a.get){if(a.set){u=e.stylize("[Getter/Setter]","special")}else{u=e.stylize("[Getter]","special")}}else{if(a.set){u=e.stylize("[Setter]","special")}}if(!H(r,i)){o="["+i+"]"}if(!u){if(e.seen.indexOf(a.value)<0){if(b(n)){u=c(e,a.value,null)}else{u=c(e,a.value,n-1)}if(u.indexOf("\n")>-1){if(s){u=u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{u="\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{u=e.stylize("[Circular]","special")}}if(T(o)){if(s&&i.match(/^\d+$/)){return u}o=JSON.stringify(""+i);if(o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){o=o.substr(1,o.length-2);o=e.stylize(o,"name")}else{o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");o=e.stylize(o,"string")}}return o+": "+u}function m(e,t,n){var r=0;var i=e.reduce(function(e,t){r++;if(t.indexOf("\n")>=0)r++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return n[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]}return n[0]+t+" "+e.join(", ")+" "+n[1]}function g(e){return Array.isArray(e)}function y(e){return typeof e==="boolean"}function b(e){return e===null}function w(e){return e==null}function E(e){return typeof e==="number"}function S(e){return typeof e==="string"}function x(e){return typeof e==="symbol"}function T(e){return e===void 0}function N(e){return C(e)&&M(e)==="[object RegExp]"}function C(e){return typeof e==="object"&&e!==null}function k(e){return C(e)&&M(e)==="[object Date]"}function L(e){return C(e)&&(M(e)==="[object Error]"||e instanceof Error)}function A(e){return typeof e==="function"}function O(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}function M(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}function P(){var e=new Date;var t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var i=/%[sdj%]/g;n.format=function(e){if(!S(e)){var t=[];for(var n=0;n<arguments.length;n++){t.push(u(arguments[n]))}return t.join(" ")}var n=1;var r=arguments;var s=r.length;var o=String(e).replace(i,function(e){if(e==="%%")return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"};default:return e}});for(var a=r[n];n<s;a=r[++n]){if(b(a)||!C(a)){o+=" "+a}else{o+=" "+u(a)}}return o};n.deprecate=function(e,i){function o(){if(!s){if(t.throwDeprecation){throw new Error(i)}else if(t.traceDeprecation){console.trace(i)}else{console.error(i)}s=true}return e.apply(this,arguments)}if(T(r.process)){return function(){return n.deprecate(e,i).apply(this,arguments)}}if(t.noDeprecation===true){return e}var s=false;return o};var s={};var o;n.debuglog=function(e){if(T(o))o=t.env.NODE_DEBUG||"";e=e.toUpperCase();if(!s[e]){if((new RegExp("\\b"+e+"\\b","i")).test(o)){var r=t.pid;s[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else{s[e]=function(){}}}return s[e]};n.inspect=u;u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};u.styles={special:"cyan",number:"yellow","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};n.isArray=g;n.isBoolean=y;n.isNull=b;n.isNullOrUndefined=w;n.isNumber=E;n.isString=S;n.isSymbol=x;n.isUndefined=T;n.isRegExp=N;n.isObject=C;n.isDate=k;n.isError=L;n.isFunction=A;n.isPrimitive=O;n.isBuffer=e("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",P(),n.format.apply(n,arguments))};n.inherits=e("inherits");n._extend=function(e,t){if(!t||!C(t))return e;var n=Object.keys(t);var r=n.length;while(r--){e[n[r]]=t[n[r]]}return e}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":81,_process:62,inherits:60}]},{},[25])(25)})